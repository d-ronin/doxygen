<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>dRonin: Flash Filesystem Function</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon_128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">dRonin
   &#160;<span id="projectnumber">c4302a9</span>
   </div>
   <div id="projectbrief">dRonin&nbsp;firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___p_i_o_s___f_l_a_s_h_f_s.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Flash Filesystem Function<div class="ingroups"><a class="el" href="group___p_i_o_s.html">PIOS Core hardware abstraction layer</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Log Structured Filesystem for internal or external NOR Flash.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlogfs__state.html">logfs_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarena__header.html">arena_header</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structslot__header.html">slot_header</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstreamfs__state.html">streamfs_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstreamfs__footer.html">streamfs_footer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structflashfs__logfs__cfg.html">flashfs_logfs_cfg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstreamfs__cfg.html">streamfs_cfg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga74e75242132eaabbc1c512488a135926"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga74e75242132eaabbc1c512488a135926">MIN</a>(x, y)&#160;&#160;&#160;((x) &lt; (y) ? (x) : (y))</td></tr>
<tr class="separator:ga74e75242132eaabbc1c512488a135926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74e75242132eaabbc1c512488a135926"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga74e75242132eaabbc1c512488a135926">MIN</a>(x, y)&#160;&#160;&#160;((x) &lt; (y) ? (x) : (y))</td></tr>
<tr class="separator:ga74e75242132eaabbc1c512488a135926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec5cdcaa1d5783e49427bfd68645d528"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaec5cdcaa1d5783e49427bfd68645d528">PIOS_STREAMFS_TASK_PRIORITY</a>&#160;&#160;&#160;<a class="el" href="group___p_i_o_s___thread.html#ggaaf67f9ea6e212bc198f6d4302ea21e54ad38805db173a7afca2190b3fcb12bcab">PIOS_THREAD_PRIO_LOW</a></td></tr>
<tr class="separator:gaec5cdcaa1d5783e49427bfd68645d528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4558a8dd70fd5ac8e89897e82b883e2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga4558a8dd70fd5ac8e89897e82b883e2b">PIOS_STREAMFS_TASK_STACK_BYTES</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:ga4558a8dd70fd5ac8e89897e82b883e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga27472bb2a0fbfb6302378ef138c6a41f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga27472bb2a0fbfb6302378ef138c6a41f">pios_flashfs_logfs_dev_magic</a> { <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gga27472bb2a0fbfb6302378ef138c6a41fa48f1badb0700a4f00d8da2af591f701b">PIOS_FLASHFS_LOGFS_DEV_MAGIC</a> = 0x94938201
 }</td></tr>
<tr class="separator:ga27472bb2a0fbfb6302378ef138c6a41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa936149cfd5559190d20879c10e0fcee"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa936149cfd5559190d20879c10e0fcee">arena_state</a> </td></tr>
<tr class="separator:gaa936149cfd5559190d20879c10e0fcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7df58e5fca7cec32767a0481da453e74"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga7df58e5fca7cec32767a0481da453e74">slot_state</a> </td></tr>
<tr class="separator:ga7df58e5fca7cec32767a0481da453e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38a5bb892173c7f3e087048ee812a2cf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga38a5bb892173c7f3e087048ee812a2cf">pios_flashfs_streamfs_dev_magic</a> { <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gga38a5bb892173c7f3e087048ee812a2cfab366391a6722bc76ba144ee71a11b36f">PIOS_FLASHFS_STREAMFS_DEV_MAGIC</a> = 0x93A40F82
 }</td></tr>
<tr class="separator:ga38a5bb892173c7f3e087048ee812a2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga183a71f76819e27bbc57b0047b870672"><td class="memItemLeft" align="right" valign="top">static uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga183a71f76819e27bbc57b0047b870672">logfs_get_addr</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint8_t arena_id, uint16_t slot_id)</td></tr>
<tr class="memdesc:ga183a71f76819e27bbc57b0047b870672"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the offset in flash of a particular slot within an arena.  <a href="#ga183a71f76819e27bbc57b0047b870672">More...</a><br/></td></tr>
<tr class="separator:ga183a71f76819e27bbc57b0047b870672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga306dd2ff09b97d76f68f9b4656643cc9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa936149cfd5559190d20879c10e0fcee">arena_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga306dd2ff09b97d76f68f9b4656643cc9">__attribute__</a> ((packed))</td></tr>
<tr class="separator:ga306dd2ff09b97d76f68f9b4656643cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab20712b250d029258c19fc3447ab975a"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gab20712b250d029258c19fc3447ab975a">logfs_erase_arena</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint8_t arena_id)</td></tr>
<tr class="memdesc:gab20712b250d029258c19fc3447ab975a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all sectors within the given arena and sets arena to erased state.  <a href="#gab20712b250d029258c19fc3447ab975a">More...</a><br/></td></tr>
<tr class="separator:gab20712b250d029258c19fc3447ab975a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga223f5f0bf8e32d007c50b2d2eec54823"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga223f5f0bf8e32d007c50b2d2eec54823">logfs_reserve_arena</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint8_t arena_id)</td></tr>
<tr class="memdesc:ga223f5f0bf8e32d007c50b2d2eec54823"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the given arena as reserved so it can be filled.  <a href="#ga223f5f0bf8e32d007c50b2d2eec54823">More...</a><br/></td></tr>
<tr class="separator:ga223f5f0bf8e32d007c50b2d2eec54823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad680c4e5792e7a8b8c9b207f81e12eff"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gad680c4e5792e7a8b8c9b207f81e12eff">logfs_erase_all_arenas</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="memdesc:gad680c4e5792e7a8b8c9b207f81e12eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all arenas available to this filesystem instance.  <a href="#gad680c4e5792e7a8b8c9b207f81e12eff">More...</a><br/></td></tr>
<tr class="separator:gad680c4e5792e7a8b8c9b207f81e12eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2ccf74ef0fb13aeebf22101113bf05e"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa2ccf74ef0fb13aeebf22101113bf05e">logfs_activate_arena</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint8_t arena_id)</td></tr>
<tr class="memdesc:gaa2ccf74ef0fb13aeebf22101113bf05e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the given arena as active so it can be mounted.  <a href="#gaa2ccf74ef0fb13aeebf22101113bf05e">More...</a><br/></td></tr>
<tr class="separator:gaa2ccf74ef0fb13aeebf22101113bf05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1c6e28ed7160ee85b55c28877889c1d"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gad1c6e28ed7160ee85b55c28877889c1d">logfs_obsolete_arena</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint8_t arena_id)</td></tr>
<tr class="memdesc:gad1c6e28ed7160ee85b55c28877889c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the given arena as obsolete.  <a href="#gad1c6e28ed7160ee85b55c28877889c1d">More...</a><br/></td></tr>
<tr class="separator:gad1c6e28ed7160ee85b55c28877889c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13e727bb7349f1f4d2b62fbd0785d02f"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga13e727bb7349f1f4d2b62fbd0785d02f">logfs_find_active_arena</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="memdesc:ga13e727bb7349f1f4d2b62fbd0785d02f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the first active arena in flash.  <a href="#ga13e727bb7349f1f4d2b62fbd0785d02f">More...</a><br/></td></tr>
<tr class="separator:ga13e727bb7349f1f4d2b62fbd0785d02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4db3c2dad523a518fc4edaaab639cacf"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga4db3c2dad523a518fc4edaaab639cacf">logfs_raw_copy_bytes</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uintptr_t src_addr, uint16_t src_size, uintptr_t dst_addr)</td></tr>
<tr class="separator:ga4db3c2dad523a518fc4edaaab639cacf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaade69d109d46b4fe0c24789fe5cad7bb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaade69d109d46b4fe0c24789fe5cad7bb">logfs_fs_is_full</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="separator:gaade69d109d46b4fe0c24789fe5cad7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b545739607e3a01f7b459e203b8c227"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga5b545739607e3a01f7b459e203b8c227">logfs_log_is_full</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="separator:ga5b545739607e3a01f7b459e203b8c227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga709bfd142a47be23a77cdd564c24d168"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga709bfd142a47be23a77cdd564c24d168">logfs_unmount_log</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="separator:ga709bfd142a47be23a77cdd564c24d168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b3584c543f91d2f191f0c3d9152a17f"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga7b3584c543f91d2f191f0c3d9152a17f">logfs_mount_log</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint8_t arena_id)</td></tr>
<tr class="separator:ga7b3584c543f91d2f191f0c3d9152a17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab47eb4f4d52643d441dc681e2523166a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gab47eb4f4d52643d441dc681e2523166a">PIOS_FLASHFS_Logfs_validate</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="separator:gab47eb4f4d52643d441dc681e2523166a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2b41f383c5315527fd9fe95d1c559ec"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gab2b41f383c5315527fd9fe95d1c559ec">PIOS_FLASHFS_Logfs_alloc</a> (void)</td></tr>
<tr class="separator:gab2b41f383c5315527fd9fe95d1c559ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe41fbee1b97112df85134f85f1568c2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gafe41fbee1b97112df85134f85f1568c2">PIOS_FLASHFS_Logfs_free</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="separator:gafe41fbee1b97112df85134f85f1568c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac15fb3840a3295f0f0b938c7421f2914"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gac15fb3840a3295f0f0b938c7421f2914">PIOS_FLASHFS_Logfs_Init</a> (uintptr_t *fs_id, const struct <a class="el" href="structflashfs__logfs__cfg.html">flashfs_logfs_cfg</a> *<a class="el" href="group___flying_p_i_o.html#ga2ed726ef287ca5aba87d97c4b83051da">cfg</a>, enum <a class="el" href="group___p_i_o_s___f_l_a_s_h.html#ga0b2f5069f81f627316a591a77e020616">pios_flash_partition_labels</a> partition_label)</td></tr>
<tr class="memdesc:gac15fb3840a3295f0f0b938c7421f2914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the flash object setting FS.  <a href="#gac15fb3840a3295f0f0b938c7421f2914">More...</a><br/></td></tr>
<tr class="separator:gac15fb3840a3295f0f0b938c7421f2914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fdf3f16270fb9c7f85a4c7a9bfce2ce"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga2fdf3f16270fb9c7f85a4c7a9bfce2ce">PIOS_FLASHFS_Logfs_Destroy</a> (uintptr_t fs_id)</td></tr>
<tr class="separator:ga2fdf3f16270fb9c7f85a4c7a9bfce2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga316d5cc78e429a0da87997043da1280c"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga316d5cc78e429a0da87997043da1280c">logfs_garbage_collect</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs)</td></tr>
<tr class="separator:ga316d5cc78e429a0da87997043da1280c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad811651feb311ce3944815103da18095"><td class="memItemLeft" align="right" valign="top">static int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gad811651feb311ce3944815103da18095">logfs_object_find_next</a> (const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, struct <a class="el" href="structslot__header.html">slot_header</a> *slot_hdr, uint16_t *curr_slot, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>)</td></tr>
<tr class="separator:gad811651feb311ce3944815103da18095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe48d3ae411c83bdbea5686cf6df1391"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gabe48d3ae411c83bdbea5686cf6df1391">logfs_delete_object</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>)</td></tr>
<tr class="separator:gabe48d3ae411c83bdbea5686cf6df1391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e5c5cc6ac2a2bd8a643b736c729c692"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga7e5c5cc6ac2a2bd8a643b736c729c692">logfs_reserve_free_slot</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint16_t *slot_id, struct <a class="el" href="structslot__header.html">slot_header</a> *slot_hdr, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#acd6c9a9729f524a58be43afcb2d0782a">obj_size</a>)</td></tr>
<tr class="separator:ga7e5c5cc6ac2a2bd8a643b736c729c692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97f0152bae614f90e02ab554e506ad26"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga97f0152bae614f90e02ab554e506ad26">logfs_append_to_log</a> (struct <a class="el" href="structlogfs__state.html">logfs_state</a> *logfs, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>, uint8_t *obj_data, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#acd6c9a9729f524a58be43afcb2d0782a">obj_size</a>)</td></tr>
<tr class="separator:ga97f0152bae614f90e02ab554e506ad26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2566e681162e422c1457f10146eda492"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga2566e681162e422c1457f10146eda492">PIOS_FLASHFS_ObjSave</a> (uintptr_t fs_id, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>, uint8_t *obj_data, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#acd6c9a9729f524a58be43afcb2d0782a">obj_size</a>)</td></tr>
<tr class="memdesc:ga2566e681162e422c1457f10146eda492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves one object instance to the filesystem.  <a href="#ga2566e681162e422c1457f10146eda492">More...</a><br/></td></tr>
<tr class="separator:ga2566e681162e422c1457f10146eda492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga159a3e2681cd03a6512dd59348c8a764"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga159a3e2681cd03a6512dd59348c8a764">PIOS_FLASHFS_ObjLoad</a> (uintptr_t fs_id, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>, uint8_t *obj_data, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#acd6c9a9729f524a58be43afcb2d0782a">obj_size</a>)</td></tr>
<tr class="memdesc:ga159a3e2681cd03a6512dd59348c8a764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load one object instance from the filesystem.  <a href="#ga159a3e2681cd03a6512dd59348c8a764">More...</a><br/></td></tr>
<tr class="separator:ga159a3e2681cd03a6512dd59348c8a764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93a9e7b90c573b3784dd52781bf11e93"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga93a9e7b90c573b3784dd52781bf11e93">PIOS_FLASHFS_ObjDelete</a> (uintptr_t fs_id, uint32_t <a class="el" href="pios__flashfs__logfs_8c.html#a4901f00431a2c948153bd4f187fce556">obj_id</a>, uint16_t <a class="el" href="pios__flashfs__logfs_8c.html#a7930e82075aa4e3326ad9615090b5d61">obj_inst_id</a>)</td></tr>
<tr class="memdesc:ga93a9e7b90c573b3784dd52781bf11e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete one instance of an object from the filesystem.  <a href="#ga93a9e7b90c573b3784dd52781bf11e93">More...</a><br/></td></tr>
<tr class="separator:ga93a9e7b90c573b3784dd52781bf11e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9dccc10d534e33e6b52df18f60d27a58"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga9dccc10d534e33e6b52df18f60d27a58">PIOS_FLASHFS_Format</a> (uintptr_t fs_id)</td></tr>
<tr class="memdesc:ga9dccc10d534e33e6b52df18f60d27a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all filesystem arenas and activate the first arena.  <a href="#ga9dccc10d534e33e6b52df18f60d27a58">More...</a><br/></td></tr>
<tr class="separator:ga9dccc10d534e33e6b52df18f60d27a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaef1873dac58626ff8a0d262a21a926"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gafaef1873dac58626ff8a0d262a21a926">PIOS_STREAMFS_RegisterTxCallback</a> (uintptr_t fs_id, <a class="el" href="group___p_i_o_s___c_o_m.html#ga528568aa0f3011cafec5c453fc030e15">pios_com_callback</a> tx_out_cb, uintptr_t context)</td></tr>
<tr class="separator:gafaef1873dac58626ff8a0d262a21a926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0b717f844508eb955adaaec9af320cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gae0b717f844508eb955adaaec9af320cb">PIOS_STREAMFS_TxStart</a> (uintptr_t fs_id, uint16_t tx_bytes_avail)</td></tr>
<tr class="separator:gae0b717f844508eb955adaaec9af320cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa58a60b054649c194014715c2ce82094"><td class="memItemLeft" align="right" valign="top">static uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa58a60b054649c194014715c2ce82094">streamfs_get_addr</a> (const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs, uint32_t arena_id, uint16_t arena_offset)</td></tr>
<tr class="memdesc:gaa58a60b054649c194014715c2ce82094"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the offset in flash of a particular slot within an arena.  <a href="#gaa58a60b054649c194014715c2ce82094">More...</a><br/></td></tr>
<tr class="separator:gaa58a60b054649c194014715c2ce82094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e150d258feb0890dc0fa61793ca61d8"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga0e150d258feb0890dc0fa61793ca61d8">streamfs_erase_arena</a> (const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs, uint32_t arena_id)</td></tr>
<tr class="memdesc:ga0e150d258feb0890dc0fa61793ca61d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all sectors within the given arena and sets arena to erased state.  <a href="#ga0e150d258feb0890dc0fa61793ca61d8">More...</a><br/></td></tr>
<tr class="separator:ga0e150d258feb0890dc0fa61793ca61d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f8af980b87a01d398c7d4bea122a151"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga5f8af980b87a01d398c7d4bea122a151">streamfs_erase_all_arenas</a> (const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs)</td></tr>
<tr class="memdesc:ga5f8af980b87a01d398c7d4bea122a151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all arenas available to this filesystem instance.  <a href="#ga5f8af980b87a01d398c7d4bea122a151">More...</a><br/></td></tr>
<tr class="separator:ga5f8af980b87a01d398c7d4bea122a151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab73bac3cfa83bf7aaeccae72140402ca"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gab73bac3cfa83bf7aaeccae72140402ca">streamfs_validate</a> (const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs)</td></tr>
<tr class="separator:gab73bac3cfa83bf7aaeccae72140402ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga006f85895b17fb29803b83abcf6e3ff3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga006f85895b17fb29803b83abcf6e3ff3">streamfs_alloc</a> (void)</td></tr>
<tr class="separator:ga006f85895b17fb29803b83abcf6e3ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06f34367c57cc4fef35cb3722a99e0c9"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga06f34367c57cc4fef35cb3722a99e0c9">streamfs_new_sector</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs)</td></tr>
<tr class="separator:ga06f34367c57cc4fef35cb3722a99e0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe4460e6f86aa9959f9c59e1486048b6"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gafe4460e6f86aa9959f9c59e1486048b6">streamfs_close_sector</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs)</td></tr>
<tr class="separator:gafe4460e6f86aa9959f9c59e1486048b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e6a4b1e57b6865c5a955e02df81380e"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga4e6a4b1e57b6865c5a955e02df81380e">streamfs_find_first_arena</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs, int32_t <a class="el" href="pios__streamfs_8c.html#a15475e71af8a3f99a5c78251ac0561fc">file_id</a>)</td></tr>
<tr class="separator:ga4e6a4b1e57b6865c5a955e02df81380e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92fc99ddee8ee13d7bed4546c63bef05"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga92fc99ddee8ee13d7bed4546c63bef05">streamfs_find_last_arena</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs, int32_t <a class="el" href="pios__streamfs_8c.html#a15475e71af8a3f99a5c78251ac0561fc">file_id</a>)</td></tr>
<tr class="separator:ga92fc99ddee8ee13d7bed4546c63bef05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf137b70dca0c67f4df901d4a980945d"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gabf137b70dca0c67f4df901d4a980945d">streamfs_find_new_sector</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs)</td></tr>
<tr class="separator:gabf137b70dca0c67f4df901d4a980945d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7be73546c8457edc98cdb1b60d8ea44"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaf7be73546c8457edc98cdb1b60d8ea44">streamfs_append_to_file</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs, uint8_t *<a class="el" href="bl__messages_8h.html#ae634662f1116dcacc7a47136a87bb07b">data</a>, uint32_t len)</td></tr>
<tr class="separator:gaf7be73546c8457edc98cdb1b60d8ea44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ce3464876f388b7c1157e783c0d6f1c"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga9ce3464876f388b7c1157e783c0d6f1c">streamfs_read_from_file</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs, uint8_t *<a class="el" href="bl__messages_8h.html#ae634662f1116dcacc7a47136a87bb07b">data</a>, uint32_t len)</td></tr>
<tr class="separator:ga9ce3464876f388b7c1157e783c0d6f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32bf6f9a8ba09915675ee8e260fa848e"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga32bf6f9a8ba09915675ee8e260fa848e">streamfs_scan_filesystem</a> (struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *streamfs)</td></tr>
<tr class="separator:ga32bf6f9a8ba09915675ee8e260fa848e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8e15c102cbe3541953495971d5981c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa8e15c102cbe3541953495971d5981c5">PIOS_STREAMFS_Task</a> (void *parameters)</td></tr>
<tr class="separator:gaa8e15c102cbe3541953495971d5981c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ba6fe00bcccede0b7192ae49e2a2e11"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga4ba6fe00bcccede0b7192ae49e2a2e11">PIOS_STREAMFS_Init</a> (uintptr_t *fs_id, const struct <a class="el" href="structstreamfs__cfg.html">streamfs_cfg</a> *<a class="el" href="group___flying_p_i_o.html#ga2ed726ef287ca5aba87d97c4b83051da">cfg</a>, enum <a class="el" href="group___p_i_o_s___f_l_a_s_h.html#ga0b2f5069f81f627316a591a77e020616">pios_flash_partition_labels</a> partition_label)</td></tr>
<tr class="memdesc:ga4ba6fe00bcccede0b7192ae49e2a2e11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the flash object setting FS.  <a href="#ga4ba6fe00bcccede0b7192ae49e2a2e11">More...</a><br/></td></tr>
<tr class="separator:ga4ba6fe00bcccede0b7192ae49e2a2e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aaf66580fe8acf8206177decc43b8b2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga6aaf66580fe8acf8206177decc43b8b2">PIOS_STREAMFS_Format</a> (uintptr_t fs_id)</td></tr>
<tr class="memdesc:ga6aaf66580fe8acf8206177decc43b8b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all filesystem arenas and activate the first arena.  <a href="#ga6aaf66580fe8acf8206177decc43b8b2">More...</a><br/></td></tr>
<tr class="separator:ga6aaf66580fe8acf8206177decc43b8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49d947952c2a30a7eedd19ad340d94f6"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga49d947952c2a30a7eedd19ad340d94f6">PIOS_STREAMFS_OpenWrite</a> (uintptr_t fs_id)</td></tr>
<tr class="separator:ga49d947952c2a30a7eedd19ad340d94f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02a6f2b805c0e851df28d2b08e0d024a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga02a6f2b805c0e851df28d2b08e0d024a">PIOS_STREAMFS_OpenRead</a> (uintptr_t fs_id, uint32_t <a class="el" href="pios__streamfs_8c.html#a15475e71af8a3f99a5c78251ac0561fc">file_id</a>)</td></tr>
<tr class="separator:ga02a6f2b805c0e851df28d2b08e0d024a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcdf67dd51c9916bf5e9aa0589dd5331"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gabcdf67dd51c9916bf5e9aa0589dd5331">PIOS_STREAMFS_MinFileId</a> (uintptr_t fs_id)</td></tr>
<tr class="separator:gabcdf67dd51c9916bf5e9aa0589dd5331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa074e89c2bd12b18651b0070ad08a6bf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa074e89c2bd12b18651b0070ad08a6bf">PIOS_STREAMFS_MaxFileId</a> (uintptr_t fs_id)</td></tr>
<tr class="separator:gaa074e89c2bd12b18651b0070ad08a6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77443fd22c14952870551cd610a7b680"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga77443fd22c14952870551cd610a7b680">PIOS_STREAMFS_Close</a> (uintptr_t fs_id)</td></tr>
<tr class="separator:ga77443fd22c14952870551cd610a7b680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7f279721caa65738bd163bd5d4c1d84"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gab7f279721caa65738bd163bd5d4c1d84">PIOS_STREAMFS_Read</a> (uintptr_t fs_id, uint8_t *<a class="el" href="bl__messages_8h.html#ae634662f1116dcacc7a47136a87bb07b">data</a>, uint32_t len)</td></tr>
<tr class="separator:gab7f279721caa65738bd163bd5d4c1d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga936c1d915cad3c58de4a46926bcd1015"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga936c1d915cad3c58de4a46926bcd1015">PIOS_STREAMFS_Testing_Write</a> (uintptr_t fs_id, uint8_t *<a class="el" href="bl__messages_8h.html#ae634662f1116dcacc7a47136a87bb07b">data</a>, uint32_t len)</td></tr>
<tr class="separator:ga936c1d915cad3c58de4a46926bcd1015"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga33fff315cd4bb9d862cd08711a0bbc6c"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structpios__com__driver.html">pios_com_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga33fff315cd4bb9d862cd08711a0bbc6c">pios_streamfs_com_driver</a></td></tr>
<tr class="separator:ga33fff315cd4bb9d862cd08711a0bbc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fe17f8582e422dfe871844653d7d6f9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga1fe17f8582e422dfe871844653d7d6f9">flashfs_logfs_cfg::fs_magic</a></td></tr>
<tr class="separator:ga1fe17f8582e422dfe871844653d7d6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga838dc01d5c7c1796252597dbb2d1dc04"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga838dc01d5c7c1796252597dbb2d1dc04">flashfs_logfs_cfg::arena_size</a></td></tr>
<tr class="separator:ga838dc01d5c7c1796252597dbb2d1dc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9f1463cfe49a3b517bf6c1e44bbb087"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gac9f1463cfe49a3b517bf6c1e44bbb087">flashfs_logfs_cfg::slot_size</a></td></tr>
<tr class="separator:gac9f1463cfe49a3b517bf6c1e44bbb087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad935ff42d6936942d5cd4a9690ac9a09"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gad935ff42d6936942d5cd4a9690ac9a09">streamfs_cfg::fs_magic</a></td></tr>
<tr class="separator:gad935ff42d6936942d5cd4a9690ac9a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga439ac7a6ddcc5e3ab6c403defe205298"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga439ac7a6ddcc5e3ab6c403defe205298">streamfs_cfg::arena_size</a></td></tr>
<tr class="separator:ga439ac7a6ddcc5e3ab6c403defe205298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e5ae82fd22ab8f3c5ad68bd4eb4622c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga7e5ae82fd22ab8f3c5ad68bd4eb4622c">streamfs_cfg::write_size</a></td></tr>
<tr class="separator:ga7e5ae82fd22ab8f3c5ad68bd4eb4622c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33fff315cd4bb9d862cd08711a0bbc6c"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structpios__com__driver.html">pios_com_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga33fff315cd4bb9d862cd08711a0bbc6c">pios_streamfs_com_driver</a></td></tr>
<tr class="separator:ga33fff315cd4bb9d862cd08711a0bbc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Log Structured Filesystem for internal or external NOR Flash. </p>
<p>Flash Filesystem API Definition.</p>
<p>Streaming circular buffer for external NOR Flash.</p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga74e75242132eaabbc1c512488a135926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((x) &lt; (y) ? (x) : (y))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00035">35</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga74e75242132eaabbc1c512488a135926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((x) &lt; (y) ? (x) : (y))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00039">39</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaec5cdcaa1d5783e49427bfd68645d528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIOS_STREAMFS_TASK_PRIORITY&#160;&#160;&#160;<a class="el" href="group___p_i_o_s___thread.html#ggaaf67f9ea6e212bc198f6d4302ea21e54ad38805db173a7afca2190b3fcb12bcab">PIOS_THREAD_PRIO_LOW</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This file system provides the ability to create numbered files and stream to flash. These buffers will wrap around the available flash partition and the file system makes no attempt to prevent that happening. It is intended for applications of storing large files or logging information</p>
<p>Files are written into continuous sectors of the flash chip. Each sector has a footer to indicate the file id and the sector id.</p>
<p>Arenas map onto sectors. </p>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00057">57</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4558a8dd70fd5ac8e89897e82b883e2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIOS_STREAMFS_TASK_STACK_BYTES&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00058">58</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaa936149cfd5559190d20879c10e0fcee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa936149cfd5559190d20879c10e0fcee">arena_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00085">85</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga27472bb2a0fbfb6302378ef138c6a41f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga27472bb2a0fbfb6302378ef138c6a41f">pios_flashfs_logfs_dev_magic</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga27472bb2a0fbfb6302378ef138c6a41fa48f1badb0700a4f00d8da2af591f701b"></a>PIOS_FLASHFS_LOGFS_DEV_MAGIC</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00041">41</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga38a5bb892173c7f3e087048ee812a2cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga38a5bb892173c7f3e087048ee812a2cf">pios_flashfs_streamfs_dev_magic</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga38a5bb892173c7f3e087048ee812a2cfab366391a6722bc76ba144ee71a11b36f"></a>PIOS_FLASHFS_STREAMFS_DEV_MAGIC</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00073">73</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7df58e5fca7cec32767a0481da453e74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#ga7df58e5fca7cec32767a0481da453e74">slot_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00314">314</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga306dd2ff09b97d76f68f9b4656643cc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gaa936149cfd5559190d20879c10e0fcee">arena_state</a> <a class="el" href="struct____attribute____.html">__attribute__</a> </td>
          <td>(</td>
          <td class="paramtype">(packed)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="serial__4way_8h_source.html#l00038">38</a> of file <a class="el" href="serial__4way_8h_source.html">serial_4way.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa2ccf74ef0fb13aeebf22101113bf05e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_activate_arena </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>arena_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks the given arena as active so it can be mounted. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Arena must have been previously erased or reserved before calling this </dd>
<dd>
Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00203">203</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga97f0152bae614f90e02ab554e506ad26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t logfs_append_to_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>obj_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00796">796</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabe48d3ae411c83bdbea5686cf6df1391"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t logfs_delete_object </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00699">699</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad680c4e5792e7a8b8c9b207f81e12eff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_erase_all_arenas </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erases all arenas available to this filesystem instance. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00185">185</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab20712b250d029258c19fc3447ab975a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_erase_arena </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>arena_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erases all sectors within the given arena and sets arena to erased state. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00116">116</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga13e727bb7349f1f4d2b62fbd0785d02f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_find_active_arena </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the first active arena in flash. </p>
<dl class="section return"><dt>Returns</dt><dd>arena_id (&gt;=0) of first active arena </dd>
<dd>
-1 if no active arena is found </dd>
<dd>
-2 if failed to read arena header </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00283">283</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaade69d109d46b4fe0c24789fe5cad7bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool logfs_fs_is_full </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00385">385</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga316d5cc78e429a0da87997043da1280c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_garbage_collect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00590">590</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga183a71f76819e27bbc57b0047b870672"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uintptr_t logfs_get_addr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>arena_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>slot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the offset in flash of a particular slot within an arena. </p>
<dl class="section return"><dt>Returns</dt><dd>address of the requested slot </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00071">71</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5b545739607e3a01f7b459e203b8c227"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool logfs_log_is_full </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00395">395</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b3584c543f91d2f191f0c3d9152a17f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_mount_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>arena_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00411">411</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad811651feb311ce3944815103da18095"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int16_t logfs_object_find_next </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structslot__header.html">slot_header</a> *&#160;</td>
          <td class="paramname"><em>slot_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>curr_slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00661">661</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad1c6e28ed7160ee85b55c28877889c1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_obsolete_arena </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>arena_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks the given arena as obsolete. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Arena must have been previously active before calling this </dd>
<dd>
Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00241">241</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4db3c2dad523a518fc4edaaab639cacf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_raw_copy_bytes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>src_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>dst_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00338">338</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga223f5f0bf8e32d007c50b2d2eec54823"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_reserve_arena </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>arena_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks the given arena as reserved so it can be filled. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Arena must have been previously erased before calling this </dd>
<dd>
Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00148">148</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e5c5cc6ac2a2bd8a643b736c729c692"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t logfs_reserve_free_slot </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>slot_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structslot__header.html">slot_header</a> *&#160;</td>
          <td class="paramname"><em>slot_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00740">740</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga709bfd142a47be23a77cdd564c24d168"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t logfs_unmount_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00400">400</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9dccc10d534e33e6b52df18f60d27a58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_FLASHFS_Format </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases all filesystem arenas and activate the first arena. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs_id</td><td>The filesystem to use for this action </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success or error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if fs_id is not a valid filesystem instance </td></tr>
    <tr><td class="paramname">-2</td><td>if failed to start transaction </td></tr>
    <tr><td class="paramname">-3</td><td>if failed to erase all arenas </td></tr>
    <tr><td class="paramname">-4</td><td>if failed to activate arena 0 </td></tr>
    <tr><td class="paramname">-5</td><td>if failed to mount arena 0 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l01055">1055</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab2b41f383c5315527fd9fe95d1c559ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlogfs__state.html">logfs_state</a>* PIOS_FLASHFS_Logfs_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00464">464</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2fdf3f16270fb9c7f85a4c7a9bfce2ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_FLASHFS_Logfs_Destroy </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00571">571</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafe41fbee1b97112df85134f85f1568c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PIOS_FLASHFS_Logfs_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00474">474</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac15fb3840a3295f0f0b938c7421f2914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_FLASHFS_Logfs_Init </td>
          <td>(</td>
          <td class="paramtype">uintptr_t *&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structflashfs__logfs__cfg.html">flashfs_logfs_cfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h.html#ga0b2f5069f81f627316a591a77e020616">pios_flash_partition_labels</a>&#160;</td>
          <td class="paramname"><em>partition_label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the flash object setting FS. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, -1 if failure </dd></dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00485">485</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab47eb4f4d52643d441dc681e2523166a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool PIOS_FLASHFS_Logfs_validate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structlogfs__state.html">logfs_state</a> *&#160;</td>
          <td class="paramname"><em>logfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00459">459</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga93a9e7b90c573b3784dd52781bf11e93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_FLASHFS_ObjDelete </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete one instance of an object from the filesystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs_id</td><td>The filesystem to use for this action </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>UAVObject ID of the object to delete </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_inst_id</td><td>The instance of the object to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success or error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if fs_id is not a valid filesystem instance </td></tr>
    <tr><td class="paramname">-2</td><td>if failed to start transaction </td></tr>
    <tr><td class="paramname">-3</td><td>if failed to delete the object from the filesystem </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l01014">1014</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga159a3e2681cd03a6512dd59348c8a764"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_FLASHFS_ObjLoad </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>obj_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load one object instance from the filesystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs_id</td><td>The filesystem to use for this action </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>UAVObject ID of the object to load </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_inst_id</td><td>The instance of the object to load </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_data</td><td>Buffer to hold the contents of the loaded object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_size</td><td>Size of the object to be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success or error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if fs_id is not a valid filesystem instance </td></tr>
    <tr><td class="paramname">-2</td><td>if failed to start transaction </td></tr>
    <tr><td class="paramname">-3</td><td>if object not found in filesystem </td></tr>
    <tr><td class="paramname">-4</td><td>if object size in filesystem does not exactly match buffer size </td></tr>
    <tr><td class="paramname">-5</td><td>if reading the object data from flash fails </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00947">947</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2566e681162e422c1457f10146eda492"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_FLASHFS_ObjSave </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_inst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>obj_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>obj_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves one object instance to the filesystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs_id</td><td>The filesystem to use for this action </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>UAVObject ID of the object to save </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_inst_id</td><td>The instance number of the object being saved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_data</td><td>Contents of the object being saved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_size</td><td>Size of the object being saved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success or error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if fs_id is not a valid filesystem instance </td></tr>
    <tr><td class="paramname">-2</td><td>if failed to start transaction </td></tr>
    <tr><td class="paramname">-3</td><td>if failure to delete any previous versions of the object </td></tr>
    <tr><td class="paramname">-4</td><td>if filesystem is entirely full and garbage collection won't help </td></tr>
    <tr><td class="paramname">-5</td><td>if garbage collection failed </td></tr>
    <tr><td class="paramname">-6</td><td>if filesystem is full even after garbage collection should have freed space </td></tr>
    <tr><td class="paramname">-7</td><td>if writing the new object to the filesystem failed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pios__flashfs__logfs_8c_source.html#l00861">861</a> of file <a class="el" href="pios__flashfs__logfs_8c_source.html">pios_flashfs_logfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga77443fd22c14952870551cd610a7b680"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_Close </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00871">871</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6aaf66580fe8acf8206177decc43b8b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_Format </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases all filesystem arenas and activate the first arena. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs_id</td><td>The filesystem to use for this action </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success or error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if fs_id is not a valid filesystem instance </td></tr>
    <tr><td class="paramname">-2</td><td>if failed to start transaction </td></tr>
    <tr><td class="paramname">-3</td><td>if failed to erase all arenas </td></tr>
    <tr><td class="paramname">-4</td><td>if failed to activate arena 0 </td></tr>
    <tr><td class="paramname">-5</td><td>if failed to mount arena 0 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00681">681</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4ba6fe00bcccede0b7192ae49e2a2e11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_Init </td>
          <td>(</td>
          <td class="paramtype">uintptr_t *&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structstreamfs__cfg.html">streamfs_cfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___p_i_o_s___f_l_a_s_h.html#ga0b2f5069f81f627316a591a77e020616">pios_flash_partition_labels</a>&#160;</td>
          <td class="paramname"><em>partition_label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the flash object setting FS. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, -1 if failure </dd></dl>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00581">581</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa074e89c2bd12b18651b0070ad08a6bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_MaxFileId </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00859">859</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabcdf67dd51c9916bf5e9aa0589dd5331"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_MinFileId </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00847">847</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga02a6f2b805c0e851df28d2b08e0d024a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_OpenRead </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>file_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00786">786</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga49d947952c2a30a7eedd19ad340d94f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_OpenWrite </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new file for streaming to</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs_id</td><td>the streaming device handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, &lt;0 if not </dd></dl>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00724">724</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab7f279721caa65738bd163bd5d4c1d84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_Read </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00941">941</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafaef1873dac58626ff8a0d262a21a926"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PIOS_STREAMFS_RegisterTxCallback </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___p_i_o_s___c_o_m.html#ga528568aa0f3011cafec5c453fc030e15">pios_com_callback</a>&#160;</td>
          <td class="paramname"><em>tx_out_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l01021">1021</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8e15c102cbe3541953495971d5981c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PIOS_STREAMFS_Task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00513">513</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga936c1d915cad3c58de4a46926bcd1015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t PIOS_STREAMFS_Testing_Write </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00975">975</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae0b717f844508eb955adaaec9af320cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PIOS_STREAMFS_TxStart </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>fs_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tx_bytes_avail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l01011">1011</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga006f85895b17fb29803b83abcf6e3ff3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structstreamfs__state.html">streamfs_state</a>* streamfs_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00178">178</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7be73546c8457edc98cdb1b60d8ea44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_append_to_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00360">360</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafe4460e6f86aa9959f9c59e1486048b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_close_sector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Close this sector by writing footer. Does not prepare next sector. </p>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00237">237</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5f8af980b87a01d398c7d4bea122a151"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_erase_all_arenas </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erases all arenas available to this filesystem instance. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00161">161</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e150d258feb0890dc0fa61793ca61d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_erase_arena </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arena_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erases all sectors within the given arena and sets arena to erased state. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if success, &lt; 0 on failure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Must be called while holding the flash transaction lock </dd></dl>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00143">143</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e6a4b1e57b6865c5a955e02df81380e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_find_first_arena </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>file_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find the first arena for a file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">streamfs</td><td>the file system handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_id</td><td>the file to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sector number if found, or negative if there was an error</dd></dl>
<p>: Must be called while holding the flash transaction lock </p>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00264">264</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga92fc99ddee8ee13d7bed4546c63bef05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_find_last_arena </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>file_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find the last arena for a file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">streamfs</td><td>the file system handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_id</td><td>the file to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sector number if found, or negative if there was an error</dd></dl>
<p>: Must be called while holding the flash transaction lock </p>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00305">305</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabf137b70dca0c67f4df901d4a980945d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_find_new_sector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find the first sector for a file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">streamfs</td><td>the file system handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sector for the new file</dd></dl>
<p>: Must be called while holding the flash transaction lock </p>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00345">345</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaa58a60b054649c194014715c2ce82094"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uintptr_t streamfs_get_addr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>arena_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>arena_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the offset in flash of a particular slot within an arena. </p>
<dl class="section return"><dt>Returns</dt><dd>address of the requested slot </dd></dl>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00118">118</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga06f34367c57cc4fef35cb3722a99e0c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_new_sector </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write footer to current sector and reset pointers for writing to next sector </p>

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00194">194</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9ce3464876f388b7c1157e783c0d6f1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_read_from_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00402">402</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga32bf6f9a8ba09915675ee8e260fa848e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t streamfs_scan_filesystem </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00473">473</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab73bac3cfa83bf7aaeccae72140402ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool streamfs_validate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structstreamfs__state.html">streamfs_state</a> *&#160;</td>
          <td class="paramname"><em>streamfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00173">173</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga439ac7a6ddcc5e3ab6c403defe205298"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t streamfs_cfg::arena_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs__priv_8h_source.html#l00037">37</a> of file <a class="el" href="pios__streamfs__priv_8h_source.html">pios_streamfs_priv.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga838dc01d5c7c1796252597dbb2d1dc04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flashfs_logfs_cfg::arena_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs__priv_8h_source.html#l00040">40</a> of file <a class="el" href="pios__flashfs__logfs__priv_8h_source.html">pios_flashfs_logfs_priv.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad935ff42d6936942d5cd4a9690ac9a09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t streamfs_cfg::fs_magic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs__priv_8h_source.html#l00036">36</a> of file <a class="el" href="pios__streamfs__priv_8h_source.html">pios_streamfs_priv.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1fe17f8582e422dfe871844653d7d6f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flashfs_logfs_cfg::fs_magic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs__priv_8h_source.html#l00039">39</a> of file <a class="el" href="pios__flashfs__logfs__priv_8h_source.html">pios_flashfs_logfs_priv.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga33fff315cd4bb9d862cd08711a0bbc6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structpios__com__driver.html">pios_com_driver</a> pios_streamfs_com_driver</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00064">64</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga33fff315cd4bb9d862cd08711a0bbc6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structpios__com__driver.html">pios_com_driver</a> pios_streamfs_com_driver</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        .tx_start   = <a class="code" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gae0b717f844508eb955adaaec9af320cb">PIOS_STREAMFS_TxStart</a>,</div>
<div class="line">        .bind_tx_cb = <a class="code" href="group___p_i_o_s___f_l_a_s_h_f_s.html#gafaef1873dac58626ff8a0d262a21a926">PIOS_STREAMFS_RegisterTxCallback</a>,</div>
<div class="line">}</div>
<div class="ttc" id="group___p_i_o_s___f_l_a_s_h_f_s_html_gae0b717f844508eb955adaaec9af320cb"><div class="ttname"><a href="group___p_i_o_s___f_l_a_s_h_f_s.html#gae0b717f844508eb955adaaec9af320cb">PIOS_STREAMFS_TxStart</a></div><div class="ttdeci">static void PIOS_STREAMFS_TxStart(uintptr_t fs_id, uint16_t tx_bytes_avail)</div><div class="ttdef"><b>Definition:</b> <a href="pios__streamfs_8c_source.html#l01011">pios_streamfs.c:1011</a></div></div>
<div class="ttc" id="group___p_i_o_s___f_l_a_s_h_f_s_html_gafaef1873dac58626ff8a0d262a21a926"><div class="ttname"><a href="group___p_i_o_s___f_l_a_s_h_f_s.html#gafaef1873dac58626ff8a0d262a21a926">PIOS_STREAMFS_RegisterTxCallback</a></div><div class="ttdeci">static void PIOS_STREAMFS_RegisterTxCallback(uintptr_t fs_id, pios_com_callback tx_out_cb, uintptr_t context)</div><div class="ttdef"><b>Definition:</b> <a href="pios__streamfs_8c_source.html#l01021">pios_streamfs.c:1021</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="pios__streamfs_8c_source.html#l00064">64</a> of file <a class="el" href="pios__streamfs_8c_source.html">pios_streamfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac9f1463cfe49a3b517bf6c1e44bbb087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flashfs_logfs_cfg::slot_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__flashfs__logfs__priv_8h_source.html#l00041">41</a> of file <a class="el" href="pios__flashfs__logfs__priv_8h_source.html">pios_flashfs_logfs_priv.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7e5ae82fd22ab8f3c5ad68bd4eb4622c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t streamfs_cfg::write_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pios__streamfs__priv_8h_source.html#l00038">38</a> of file <a class="el" href="pios__streamfs__priv_8h_source.html">pios_streamfs_priv.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
