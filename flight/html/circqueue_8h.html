<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>dRonin: flight/Libraries/inc/circqueue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon_128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">dRonin
   &#160;<span id="projectnumber">dfd6d0c</span>
   </div>
   <div id="projectbrief">dRonin&nbsp;firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('circqueue_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">circqueue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Public header for 1 reader, 1 writer circular queue.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;pios.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
</div>
<p><a href="circqueue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5ccd758cbe3328ac019d2ad0aa53ea64"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcirc__queue.html">circ_queue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a></td></tr>
<tr class="separator:a5ccd758cbe3328ac019d2ad0aa53ea64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adbb7d8aa81db995c0f3388f165d60330"><td class="memItemLeft" align="right" valign="top"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#adbb7d8aa81db995c0f3388f165d60330">circ_queue_new</a> (uint16_t elem_size, uint16_t num_elem)</td></tr>
<tr class="separator:adbb7d8aa81db995c0f3388f165d60330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca367b5f5dd3c29b41ce02a7ec809e5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#afca367b5f5dd3c29b41ce02a7ec809e5">circ_queue_write_pos</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q, uint16_t *contig, uint16_t *avail)</td></tr>
<tr class="separator:afca367b5f5dd3c29b41ce02a7ec809e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e8a86cca2be1d4833ab3b7c833cbea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#af3e8a86cca2be1d4833ab3b7c833cbea">circ_queue_advance_write_multi</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q, uint16_t amt)</td></tr>
<tr class="separator:af3e8a86cca2be1d4833ab3b7c833cbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2214df6fc5ba26f92174dfc5c589f379"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#a2214df6fc5ba26f92174dfc5c589f379">circ_queue_advance_write</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q)</td></tr>
<tr class="separator:a2214df6fc5ba26f92174dfc5c589f379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b06d4a5f5348a52bbfaacb0fdeb6b1"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#ae8b06d4a5f5348a52bbfaacb0fdeb6b1">circ_queue_read_pos</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q, uint16_t *contig, uint16_t *avail)</td></tr>
<tr class="separator:ae8b06d4a5f5348a52bbfaacb0fdeb6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2060547c0a1910e58c41519c52384db0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#a2060547c0a1910e58c41519c52384db0">circ_queue_read_completed</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q)</td></tr>
<tr class="separator:a2060547c0a1910e58c41519c52384db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd0d45acf8698e4b7ef28edf8552595"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#a9bd0d45acf8698e4b7ef28edf8552595">circ_queue_read_completed_multi</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q, uint16_t num)</td></tr>
<tr class="separator:a9bd0d45acf8698e4b7ef28edf8552595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b08edea2fb5ccdaae3880d51fa158c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#a56b08edea2fb5ccdaae3880d51fa158c">circ_queue_read_data</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q, void *buf, uint16_t num)</td></tr>
<tr class="separator:a56b08edea2fb5ccdaae3880d51fa158c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd5bbd7d870be94327ad1bd020f9db8"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#aadd5bbd7d870be94327ad1bd020f9db8">circ_queue_write_data</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q, const void *buf, uint16_t num)</td></tr>
<tr class="separator:aadd5bbd7d870be94327ad1bd020f9db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7177d7c6fc2dc4c0c45d29c3e0e37943"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="circqueue_8h.html#a7177d7c6fc2dc4c0c45d29c3e0e37943">circ_queue_clear</a> (<a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> q)</td></tr>
<tr class="separator:a7177d7c6fc2dc4c0c45d29c3e0e37943"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Public header for 1 reader, 1 writer circular queue. </p>
<dl class="section author"><dt>Author</dt><dd>dRonin, <a href="http://dRonin.org/,">http://dRonin.org/,</a> Copyright (C) 2015-2016 </dd></dl>

<p>Definition in file <a class="el" href="circqueue_8h_source.html">circqueue.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a5ccd758cbe3328ac019d2ad0aa53ea64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcirc__queue.html">circ_queue</a>* <a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="circqueue_8h_source.html#l00032">32</a> of file <a class="el" href="circqueue_8h_source.html">circqueue.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2214df6fc5ba26f92174dfc5c589f379"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int circ_queue_advance_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes the current block of data available to the reader and advances write pos. This may fail if the queue contain num_elems -1 elements, in which case the advance may be retried in the future. In this case, data already written to write_pos is preserved and the advance may be retried (or overwritten with new data).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>Handle to circular queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the write succeeded, nonzero on error. </dd></dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00192">192</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="af3e8a86cca2be1d4833ab3b7c833cbea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int circ_queue_advance_write_multi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes multiple elements available to the reader. Amt is expected to be equal or less to an 'avail' returned by circ_queue_cur_write_pos.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>The circular q handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amt</td><td>The number of bytes we've filled in for the reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the write succeeded </dd></dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00149">149</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7177d7c6fc2dc4c0c45d29c3e0e37943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void circ_queue_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Empties all elements from the queue. </p>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00246">246</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="adbb7d8aa81db995c0f3388f165d60330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a> circ_queue_new </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>elem_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num_elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a new circular queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">elem_size</td><td>The size of each element, as obtained from sizeof(). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_elem</td><td>The number of elements in the queue. The capacity is one less than this (it may not be completely filled). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The handle to the circular queue. </dd></dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00048">48</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2060547c0a1910e58c41519c52384db0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void circ_queue_read_completed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases an element of read data obtained by circ_queue_read_pos. Behavior is undefined if circ_queue_read_pos did not previously return a block of data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>Handle to the circular queue. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00256">256</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9bd0d45acf8698e4b7ef28edf8552595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void circ_queue_read_completed_multi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases multiple elements of read data obtained by circ_queue_read_pos. Behavior is undefined if returning more than circ_queue_read_pos previously signaled in contig.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>Handle to the circula queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Number of elements to release. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00276">276</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a56b08edea2fb5ccdaae3880d51fa158c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t circ_queue_read_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00331">331</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae8b06d4a5f5348a52bbfaacb0fdeb6b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* circ_queue_read_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>contig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>avail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a block of data to the reader. The block is "claimed" until released with circ_queue_read_completed. No new data is available until that call is made (instead the same block-in-progress will be returned).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>Handle to circular queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">contig</td><td>Returns number of contig elements that can be read at once. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">avail</td><td>Returns number of elements available to read without any further writer activity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the data, or NULL if the queue is empty. </dd></dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00208">208</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="aadd5bbd7d870be94327ad1bd020f9db8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t circ_queue_write_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00302">302</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
<a class="anchor" id="afca367b5f5dd3c29b41ce02a7ec809e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* circ_queue_write_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circqueue_8h.html#a5ccd758cbe3328ac019d2ad0aa53ea64">circ_queue_t</a>&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>contig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>avail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer to the current queue write position. This position is unavailable to the reader and may be filled in with the desired data without respect to any synchronization. No promise is made that circ_queue_advance_write will succeed, though.</p>
<p>Alternatively, in *contig we return the number of things that can be filled in. We promise that you can circ_queue_advance_write_multi that many. You can also always write one, but no promises you'll be able to advance write.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q</td><td>Handle to circular queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">contig</td><td>The num elements available for contiguous write. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">avail</td><td>The num elements available before a reader has freed up more space. (Includes wraparound/non-contig elems). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The position for new data to be written to (of size elem_size). </dd></dl>

<p>Definition at line <a class="el" href="circqueue_8c_source.html#l00084">84</a> of file <a class="el" href="circqueue_8c_source.html">circqueue.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_aa98a92d0ee4a874a8da6d1a4d95ab49.html">flight</a></li><li class="navelem"><a class="el" href="dir_87fe40d6f8ed4c6aff829c2b720b8191.html">Libraries</a></li><li class="navelem"><a class="el" href="dir_5c7968e6b317e8299f59b015d9912576.html">inc</a></li><li class="navelem"><a class="el" href="circqueue_8h.html">circqueue.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
