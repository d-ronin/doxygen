<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>dRonin: ground/gcs/src/plugins/opmap/opmapgadgetwidget.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon_128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">dRonin
   &#160;<span id="projectnumber">b638c10</span>
   </div>
   <div id="projectbrief">dRonin&nbsp;GCS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('opmapgadgetwidget_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">opmapgadgetwidget.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="opmapgadgetwidget_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * the Free Software Foundation; either version 3 of the License, or</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful, but</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * for more details.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * with this program; if not, see &lt;http://www.gnu.org/licenses/&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * Additional note on redistribution: The copyright and license notices above</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * must be maintained in each individual source file that is a derivative work</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * of this source file; otherwise redistribution is prohibited.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opmapgadgetwidget_8h.html">opmapgadgetwidget.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;ui_opmap_widget.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;QInputDialog&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;QApplication&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;QHBoxLayout&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;QVBoxLayout&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;QClipboard&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;QMenu&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;QStringList&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;QDir&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;QFile&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;QDateTime&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="homelocationutil_8h.html">utils/homelocationutil.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="worldmagmodel_8h.html">utils/worldmagmodel.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="telemetrymanager_8h.html">uavtalk/telemetrymanager.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="uavobject_8h.html">uavobjects/uavobject.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;positionactual.h&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;homelocation.h&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;gpsposition.h&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;gyros.h&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;attitudeactual.h&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;positionactual.h&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;velocityactual.h&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;windvelocityactual.h&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;../pathplanner/pathplannergadgetwidget.h&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;../pathplanner/waypointdialog.h&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#define deg_to_rad ((double)M_PI / 180.0)</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define rad_to_deg (180.0 / (double)M_PI)</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#define earth_mean_radius 6371 // kilometers</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#define max_digital_zoom 3 // maximum allowed digital zoom level</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">   76</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">safe_area_radius_list</a>[] = { 5, 10, 20, 50, 100, 200, 500, 1000, 2000, 5000 }; <span class="comment">// meters</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">   78</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a>[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }; <span class="comment">// seconds</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">   80</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a>[] = { 1, 2, 5, 10, 20, 50, 100, 200, 500 }; <span class="comment">// meters</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">   82</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[] = { 100, 200, 500, 1000, 2000, 5000 }; <span class="comment">// milliseconds</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//  NOTE: go back to SVN REV 2137 and earlier to get back to experimental waypoint support.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// constructor</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga7fe62a2d1a8b920f3e44900dee8d9d5a">   91</a></span>&#160;<a class="code" href="group___o_p_map_plugin.html#ga7fe62a2d1a8b920f3e44900dee8d9d5a">OPMapGadgetWidget::OPMapGadgetWidget</a>(QWidget *parent)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    : QFrame(parent)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    m_widget = NULL;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    m_map = NULL;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    findPlaceCompleter = NULL;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    m_mouse_waypoint = NULL;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    pm = NULL;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    uavo_mgr = NULL;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    uavo_util_mgr = NULL;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    m_prev_tile_number = 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    m_min_zoom = m_max_zoom = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    m_map_mode = <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    m_maxUpdateRate =</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[4]; <span class="comment">// 2 seconds //SHOULDN&#39;T THIS BE LOADED FROM THE USER PREFERENCES?</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    m_telemetry_connected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    m_context_menu_lat_lon = m_mouse_lat_lon = <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(0, 0);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    setMouseTracking(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    pm = ExtensionSystem::PluginManager::instance();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (pm) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        uavo_mgr = pm-&gt;getObject&lt;<a class="code" href="class_u_a_v_object_manager.html">UAVObjectManager</a>&gt;();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        uavo_util_mgr = pm-&gt;getObject&lt;<a class="code" href="class_u_a_v_object_util_manager.html">UAVObjectUtilManager</a>&gt;();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// get current location</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">double</span> latitude = 0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">double</span> longitude = 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">double</span> altitude = 0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// current position</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    getUAVPosition(latitude, longitude, altitude);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> pos_lat_lon = <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(latitude, longitude);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// default home position</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a> = pos_lat_lon;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga14ce78cb516fe7a0e7f20e423e92d538">altitude</a> = altitude;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga4cc9a1ca8d219f1aa6d823fab6080f02">locked</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// create the widget that holds the user controls and the map</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    m_widget = <span class="keyword">new</span> Ui::OPMap_Widget();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    m_widget-&gt;setupUi(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// create the central map widget</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    m_map = <span class="keyword">new</span> <a class="code" href="classmapcontrol_1_1_t_l_map_widget.html">mapcontrol::TLMapWidget</a>(); <span class="comment">// create the map object</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    m_map-&gt;setFrameStyle(QFrame::NoFrame); <span class="comment">// no border frame</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gacf27205703112c3235bb5186da81871b">configuration</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga18190e2acae7a12ba6b598cf25244acf">DragButton</a> = Qt::LeftButton; <span class="comment">// use the left mouse button for map dragging</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    m_widget-&gt;horizontalSliderZoom-&gt;setMinimum(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5978cd4c9b97aed76bc9d02c03b3eaf0">MinZoom</a>()); <span class="comment">//</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    m_widget-&gt;horizontalSliderZoom-&gt;setMaximum(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabf974444471378d1710f1faa6005ab8b">MaxZoom</a>() + max_digital_zoom); <span class="comment">//</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    m_min_zoom = m_widget-&gt;horizontalSliderZoom-&gt;minimum(); <span class="comment">// minimum zoom we can accept</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    m_max_zoom = m_widget-&gt;horizontalSliderZoom-&gt;maximum(); <span class="comment">// maximum zoom we can accept</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gaeff7938fb4e8fca52ac6d4cce6b7d2e6">SetMouseWheelZoomType</a>(</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        internals::MouseWheelZoomType::MousePositionWithoutCenter); <span class="comment">// set how the mouse wheel zoom</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                                                    <span class="comment">// functions</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga76f119b43330e035e8a69704f9d3369e">SetFollowMouse</a>(<span class="keyword">true</span>); <span class="comment">// we want a contiuous mouse position reading</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga12a8cff4f2e7d33e5d9a7e1a2ef9a3e8">SetShowHome</a>(<span class="keyword">true</span>); <span class="comment">// display the HOME position on the map</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga257d1baefc299cc15d2b81579f6e2279">SetShowUAV</a>(<span class="keyword">true</span>); <span class="comment">// display the UAV position on the map</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetSafeArea(</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">safe_area_radius_list</a>[0]); <span class="comment">// set radius (meters) //SHOULDN&#39;T THE DEFAULT BE USER DEFINED?</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetShowSafeArea(</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keyword">true</span>); <span class="comment">// show the safe area  //SHOULDN&#39;T THE DEFAULT BE USER DEFINED?</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetToggleRefresh(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        connect(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>, &amp;<a class="code" href="group___t_l_map_widget.html#ga4969d08e38f36b77320b0fd4d2c112ac">mapcontrol::HomeItem::homedoubleclick</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                &amp;OPMapGadgetWidget::onHomeDoubleClick);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetTrailTime(<a class="code" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a>[0]); <span class="comment">// seconds</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetTrailDistance(<a class="code" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a>[1]); <span class="comment">// meters</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetTrailType(UAVTrailType::ByTimeElapsed);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetTrailTime(<a class="code" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a>[0]); <span class="comment">// seconds</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetTrailDistance(<a class="code" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a>[1]); <span class="comment">// meters</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetTrailType(UAVTrailType::ByTimeElapsed);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    setSizePolicy(QSizePolicy::MinimumExpanding, QSizePolicy::MinimumExpanding);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    QVBoxLayout *layout = <span class="keyword">new</span> QVBoxLayout;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    layout-&gt;setSpacing(0);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    layout-&gt;setContentsMargins(0, 0, 0, 0);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    layout-&gt;addWidget(m_map);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    m_widget-&gt;mapWidget-&gt;setLayout(layout);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    m_widget-&gt;toolButtonMagicWaypointMapMode-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    m_widget-&gt;toolButtonNormalMapMode-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    hideMagicWaypointControls();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    m_widget-&gt;labelUAVPos-&gt;setText(<span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    m_widget-&gt;labelMapPos-&gt;setText(<span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    m_widget-&gt;labelMousePos-&gt;setText(<span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    m_widget-&gt;labelMapZoom-&gt;setText(<span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    m_widget-&gt;labelNEDCoords-&gt;setText(<span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    m_widget-&gt;progressBarMap-&gt;setMaximum(1);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    connect(m_map, &amp;<a class="code" href="group___t_l_map_widget.html#gaa318c08305493bb3780c5008675f5431">mapcontrol::TLMapWidget::zoomChanged</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            &amp;OPMapGadgetWidget::zoomChanged); <span class="comment">// map zoom change signals</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    connect(m_map, &amp;<a class="code" href="group___t_l_map_widget.html#ga6c4641bff16c343b2edf9e0e88f6bb47">mapcontrol::TLMapWidget::OnCurrentPositionChanged</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            &amp;OPMapGadgetWidget::OnCurrentPositionChanged); <span class="comment">// map poisition change signals</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    connect(m_map, &amp;<a class="code" href="group___t_l_map_widget.html#gabde71a71ade79269ae3039804578a028">mapcontrol::TLMapWidget::OnTileLoadComplete</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            &amp;OPMapGadgetWidget::OnTileLoadComplete); <span class="comment">// tile loading stop signals</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    connect(m_map, &amp;<a class="code" href="group___t_l_map_widget.html#ga5b5f5c5f153f77ca185ae7effec0a23a">mapcontrol::TLMapWidget::OnTileLoadStart</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            &amp;OPMapGadgetWidget::OnTileLoadStart); <span class="comment">// tile loading start signals</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    connect(m_map, &amp;<a class="code" href="group___t_l_map_widget.html#ga455a2f3a76989818b68999597380186a">mapcontrol::TLMapWidget::OnTilesStillToLoad</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            &amp;OPMapGadgetWidget::OnTilesStillToLoad); <span class="comment">// tile loading signals</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    connect(m_map, &amp;<a class="code" href="group___t_l_map_widget.html#gad9c4816bc042918b192541019795b4aa">mapcontrol::TLMapWidget::OnWayPointDoubleClicked</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            &amp;OPMapGadgetWidget::wpDoubleClickEvent);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">SetCurrentPosition</a>(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>); <span class="comment">// set the map position</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetCoord(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>); <span class="comment">// set the HOME position</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetUAVPos(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>, 0.0); <span class="comment">// set the UAV position</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;update();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetUAVPos(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>, 0.0); <span class="comment">// set the GPS position</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// Connect to the existing model</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="class_extension_system_1_1_plugin_manager.html">ExtensionSystem::PluginManager</a> *pm = ExtensionSystem::PluginManager::instance();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    model = pm-&gt;getObject&lt;<a class="code" href="class_flight_data_model.html">FlightDataModel</a>&gt;();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    Q_ASSERT(model);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// Get the path planner selection model to keep the gadget in sync with the map</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    selectionModel = pm-&gt;getObject&lt;QItemSelectionModel&gt;();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    Q_ASSERT(selectionModel);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    mapProxy = <span class="keyword">new</span> <a class="code" href="class_model_map_proxy.html">ModelMapProxy</a>(<span class="keyword">this</span>, m_map, model, selectionModel);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    magicWayPoint = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga2c031ecf6fbe43cef7fd47948da11c85">magicWPCreate</a>();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    magicWayPoint-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga1652258d99f7b01d65f0155f89a2f516">setOverlayOpacity</a>(0.5);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// create various context menu (mouse right click menu) actions</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    createActions();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// connect to the UAVObject updates we require to become a bit aware of our environment:</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (pm) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">// Register for Home Location state changes</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">if</span> (uavo_mgr) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="class_u_a_v_data_object.html">UAVDataObject</a> *obj =</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_u_a_v_data_object.html">UAVDataObject</a> *<span class="keyword">&gt;</span>(uavo_mgr-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gada44cdbfa55a281b78d41abcc6834dc0">getObject</a>(QString(<span class="stringliteral">&quot;HomeLocation&quot;</span>)));</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">if</span> (obj) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                connect(obj, &amp;<a class="code" href="group___u_a_v_objects_plugin.html#ga9aac3ae5395f63249cd821e0e5be5bf2">UAVObject::objectUpdated</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        &amp;<a class="code" href="group___o_p_map_plugin.html#gae67526d9495209b93360c1fae84e3d47">OPMapGadgetWidget::homePositionUpdated</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">// Listen to telemetry connection events</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="class_telemetry_manager.html">TelemetryManager</a> *telMngr = pm-&gt;getObject&lt;<a class="code" href="class_telemetry_manager.html">TelemetryManager</a>&gt;();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (telMngr) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            connect(telMngr, &amp;<a class="code" href="group___u_a_v_talk_plugin.html#ga54bec8ecfe469710c7261f567e76c5f0">TelemetryManager::connected</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    &amp;<a class="code" href="group___o_p_map_plugin.html#gad7068b438d89bb8f2a9e31ef5ca2d708">OPMapGadgetWidget::onTelemetryConnect</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            connect(telMngr, &amp;<a class="code" href="group___u_a_v_talk_plugin.html#ga61e671949cc2403327617d9c9a372a76">TelemetryManager::disconnected</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    &amp;<a class="code" href="group___o_p_map_plugin.html#ga723918dc2ebb03ce17180228e4233d06">OPMapGadgetWidget::onTelemetryDisconnect</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// Update the home location if it is already set:</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (uavo_util_mgr) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordtype">bool</span> set;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="_o_p_plots_8m.html#a011779f2c5f2a3505308bb1369101a54">LLA</a>[3];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (uavo_util_mgr-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gac5e7b38a473a50f709fb6312ef511e59">getHomeLocation</a>(set, LLA) == 0) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">if</span> (set)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">setHome</a>(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(LLA[0], LLA[1]), LLA[2]);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// create the desired timers</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    m_updateTimer = <span class="keyword">new</span> QTimer();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    m_updateTimer-&gt;setInterval(m_maxUpdateRate);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    connect(m_updateTimer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::updatePosition);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    m_updateTimer-&gt;start();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    m_statusUpdateTimer = <span class="keyword">new</span> QTimer();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    m_statusUpdateTimer-&gt;setInterval(200);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    connect(m_statusUpdateTimer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::updateMousePos);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    m_statusUpdateTimer-&gt;start();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// **************</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// Connect windspeed update</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    WindVelocityActual *windVelocityActual = WindVelocityActual::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    connect(windVelocityActual, &amp;<a class="code" href="group___u_a_v_objects_plugin.html#ga9aac3ae5395f63249cd821e0e5be5bf2">UAVObject::objectUpdated</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            &amp;OPMapGadgetWidget::updateWindspeed);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    m_map-&gt;setFocus();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">// destructor</span></div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga7c7775d0011bd9d0f8ca0219f48bc193">  312</a></span>&#160;<a class="code" href="group___o_p_map_plugin.html#ga7c7775d0011bd9d0f8ca0219f48bc193">OPMapGadgetWidget::~OPMapGadgetWidget</a>()</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (m_map) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        disconnect(m_map, 0, 0, 0);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga12a8cff4f2e7d33e5d9a7e1a2ef9a3e8">SetShowHome</a>(<span class="keyword">false</span>); <span class="comment">// doing this appears to stop the map lib crashing on exit</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga257d1baefc299cc15d2b81579f6e2279">SetShowUAV</a>(<span class="keyword">false</span>); <span class="comment">//   &quot;          &quot;</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (m_map) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keyword">delete</span> m_map;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        m_map = NULL;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (!mapProxy.isNull())</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keyword">delete</span> mapProxy;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">// widget signals .. the mouseMoveEvent does not get called - don&#39;t yet know why</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga5364db038789e0e4ad94ae0606391100">  332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga5364db038789e0e4ad94ae0606391100">OPMapGadgetWidget::resizeEvent</a>(QResizeEvent *event)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    QWidget::resizeEvent(event);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gac0a4e19ec058721095f125dfba28ea79">  337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gac0a4e19ec058721095f125dfba28ea79">OPMapGadgetWidget::mouseMoveEvent</a>(QMouseEvent *event)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (m_widget &amp;&amp; m_map) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (event-&gt;buttons() &amp; Qt::LeftButton) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    QWidget::mouseMoveEvent(event);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::wpDoubleClickEvent(WayPointItem *wp)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    m_mouse_waypoint = wp;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    onEditWayPointAct_triggered();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gab4575b0db17580cc1a575aafa2fc5710">  352</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gab4575b0db17580cc1a575aafa2fc5710">OPMapGadgetWidget::contextMenuEvent</a>(QContextMenuEvent *event)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{ <span class="comment">// the user has right clicked on the map - create the pop-up context menu and display it</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    QString <a class="code" href="uavobjecttemplate_8m.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (event-&gt;reason() != QContextMenuEvent::Mouse)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// not a mouse click event</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// current mouse position</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    QPoint p = m_map-&gt;mapFromGlobal(event-&gt;globalPos());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    m_context_menu_lat_lon = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga857fbd8ef743957c9b5c102e2cb0fbc9">GetFromLocalToLatLng</a>(p);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (!m_map-&gt;contentsRect().contains(p))</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// the mouse click was not on the map</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// show the mouse position</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    s = QString::number(m_context_menu_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot;  &quot;</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        + QString::number(m_context_menu_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), <span class="charliteral">&#39;f&#39;</span>, 7);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    m_widget-&gt;labelMousePos-&gt;setText(s);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// find out if we have a waypoint under the mouse cursor</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    QGraphicsItem *item = m_map-&gt;itemAt(p);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    m_mouse_waypoint = qgraphicsitem_cast&lt;<a class="code" href="classmapcontrol_1_1_way_point_item.html">mapcontrol::WayPointItem</a> *&gt;(item);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// find out if the waypoint is locked (or not)</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">bool</span> waypoint_locked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (m_mouse_waypoint)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        waypoint_locked = (m_mouse_waypoint-&gt;flags() &amp; QGraphicsItem::ItemIsMovable) == 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// ****************</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// Dynamically create the popup menu</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    QMenu contextMenu;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    contextMenu.addAction(closeAct1);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    contextMenu.addAction(reloadAct);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    contextMenu.addAction(ripAct);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    QMenu maxUpdateRateSubMenu(</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        tr(<span class="stringliteral">&quot;&amp;Max Update Rate &quot;</span>) + <span class="stringliteral">&quot;(&quot;</span> + QString::number(m_maxUpdateRate) + <span class="stringliteral">&quot; ms)&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; maxUpdateRateAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        maxUpdateRateSubMenu.addAction(maxUpdateRateAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    contextMenu.addMenu(&amp;maxUpdateRateSubMenu);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">switch</span> (m_map_mode) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>:</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        s = tr(<span class="stringliteral">&quot; (Normal)&quot;</span>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        s = tr(<span class="stringliteral">&quot; (Magic Waypoint)&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        s = tr(<span class="stringliteral">&quot; (Unknown)&quot;</span>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; mapModeAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) { <span class="comment">// set the menu to checked (or not)</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        QAction *act = mapModeAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (!act)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span> (act-&gt;data().toInt() == (int)m_map_mode)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            act-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    QMenu mapModeSubMenu(tr(<span class="stringliteral">&quot;Map mode&quot;</span>) + s, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; mapModeAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        mapModeSubMenu.addAction(mapModeAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    contextMenu.addMenu(&amp;mapModeSubMenu);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    QMenu copySubMenu(tr(<span class="stringliteral">&quot;Copy&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    copySubMenu.addAction(copyMouseLatLonToClipAct);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    copySubMenu.addAction(copyMouseLatToClipAct);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    copySubMenu.addAction(copyMouseLonToClipAct);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    contextMenu.addMenu(&amp;copySubMenu);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    contextMenu.addAction(changeDefaultLocalAndZoom);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    QMenu safeArea(<span class="stringliteral">&quot;Safety Area definitions&quot;</span>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// menu.addAction(showSafeAreaAct);</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    QMenu safeAreaSubMenu(</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        tr(<span class="stringliteral">&quot;Safe Area Radius&quot;</span>) + <span class="stringliteral">&quot; (&quot;</span> + QString::number(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SafeArea()) + <span class="stringliteral">&quot;m)&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; safeAreaAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        safeAreaSubMenu.addAction(safeAreaAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    safeArea.addMenu(&amp;safeAreaSubMenu);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    safeArea.addAction(showSafeAreaAct);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    contextMenu.addMenu(&amp;safeArea);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    contextMenu.addAction(showCompassRoseAct);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    contextMenu.addAction(showWindCompassAction);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    contextMenu.addAction(showDiagnostics);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    contextMenu.addAction(showUAVInfo);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    contextMenu.addSeparator()-&gt;setText(tr(<span class="stringliteral">&quot;Zoom&quot;</span>));</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    contextMenu.addAction(zoomInAct);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    contextMenu.addAction(zoomOutAct);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    QMenu zoomSubMenu(tr(<span class="stringliteral">&quot;&amp;Zoom &quot;</span>) + <span class="stringliteral">&quot;(&quot;</span> + QString::number(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9150c5038d73a6fa54ec7a91220c1c06">ZoomTotal</a>()) + <span class="stringliteral">&quot;)&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; zoomAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        zoomSubMenu.addAction(zoomAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    contextMenu.addMenu(&amp;zoomSubMenu);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    contextMenu.addAction(goMouseClickAct);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    contextMenu.addSeparator()-&gt;setText(tr(<span class="stringliteral">&quot;HOME&quot;</span>));</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    contextMenu.addAction(setHomeAct);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    contextMenu.addAction(showHomeAct);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    contextMenu.addAction(goHomeAct);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// ****</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// uav trails</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    QMenu uav_menu(tr(<span class="stringliteral">&quot;UAV&quot;</span>));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    uav_menu.addSeparator()-&gt;setText(tr(<span class="stringliteral">&quot;UAV Trail&quot;</span>));</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    contextMenu.addMenu(&amp;uav_menu);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    QMenu uavTrailTypeSubMenu(</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        tr(<span class="stringliteral">&quot;UAV trail type&quot;</span>) + <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            + <a class="code" href="group___t_l_map_widget.html#gab2895e09cf7115779c738cc43d815123">mapcontrol::Helper::StrFromUAVTrailType</a>(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;GetTrailType()) + <span class="stringliteral">&quot;)&quot;</span>,</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keyword">this</span>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; uavTrailTypeAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        uavTrailTypeSubMenu.addAction(uavTrailTypeAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    uav_menu.addMenu(&amp;uavTrailTypeSubMenu);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    QMenu uavTrailTimeSubMenu(</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        tr(<span class="stringliteral">&quot;UAV trail time&quot;</span>) + <span class="stringliteral">&quot; (&quot;</span> + QString::number(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;TrailTime()) + <span class="stringliteral">&quot; sec)&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; uavTrailTimeAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        uavTrailTimeSubMenu.addAction(uavTrailTimeAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    uav_menu.addMenu(&amp;uavTrailTimeSubMenu);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    QMenu uavTrailDistanceSubMenu(tr(<span class="stringliteral">&quot;UAV trail distance&quot;</span>) + <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                      + QString::number(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;TrailDistance()) + <span class="stringliteral">&quot; meters)&quot;</span>,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                  <span class="keyword">this</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; uavTrailDistanceAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        uavTrailDistanceSubMenu.addAction(uavTrailDistanceAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    uav_menu.addMenu(&amp;uavTrailDistanceSubMenu);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    uav_menu.addAction(showTrailAct);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    uav_menu.addAction(showTrailLineAct);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    uav_menu.addAction(clearUAVtrailAct);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// ****</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    uav_menu.addSeparator()-&gt;setText(tr(<span class="stringliteral">&quot;UAV&quot;</span>));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    uav_menu.addAction(showUAVAct);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    uav_menu.addAction(followUAVpositionAct);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    uav_menu.addAction(followUAVheadingAct);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    uav_menu.addAction(goUAVAct);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// *********</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">switch</span> (m_map_mode) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>:</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="comment">// only show the waypoint stuff if not in &#39;magic waypoint&#39; mode</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        contextMenu.addSeparator()-&gt;setText(tr(<span class="stringliteral">&quot;Waypoints&quot;</span>));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        contextMenu.addAction(wayPointEditorAct);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        contextMenu.addAction(addWayPointActFromContextMenu);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (m_mouse_waypoint) { <span class="comment">// we have a waypoint under the mouse</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            contextMenu.addAction(editWayPointAct);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            lockWayPointAct-&gt;setChecked(waypoint_locked);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            contextMenu.addAction(lockWayPointAct);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">if</span> (!waypoint_locked)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                contextMenu.addAction(deleteWayPointAct);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gac80e6f6d8d21aaf3b29c72be6455c88a">WPPresent</a>())</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            contextMenu.addAction(clearWayPointsAct); <span class="comment">// we have waypoints</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>:</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        contextMenu.addSeparator()-&gt;setText(tr(<span class="stringliteral">&quot;Waypoints&quot;</span>));</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        contextMenu.addAction(homeMagicWaypointAct);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// *********</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    QMenu overlaySubMenu(tr(<span class="stringliteral">&quot;&amp;Overlay Opacity &quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; overlayOpacityAct.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        overlaySubMenu.addAction(overlayOpacityAct.at(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>));</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    contextMenu.addMenu(&amp;overlaySubMenu);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    contextMenu.addSeparator();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    contextMenu.addAction(closeAct2);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    contextMenu.exec(event-&gt;globalPos()); <span class="comment">// popup the menu</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// ****************</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga07f947001ed1fdf9d099f170e5116aa2">  562</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga07f947001ed1fdf9d099f170e5116aa2">OPMapGadgetWidget::closeEvent</a>(QCloseEvent *event)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    QWidget::closeEvent(event);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">// timer signals</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::updatePosition()</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordtype">double</span> uav_latitude, uav_longitude, uav_altitude, uav_yaw;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">double</span> gps_latitude, gps_longitude, gps_altitude, gps_heading;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> uav_pos;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> gps_pos;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// *************</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// get the current UAV details</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// get current UAV position</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (!getUAVPosition(uav_latitude, uav_longitude, uav_altitude))</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// get current UAV heading</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    uav_yaw = getUAV_Yaw();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    uav_pos = <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(uav_latitude, uav_longitude);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// *************</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Load GPSPosition UAVO</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    GPSPosition *gpsPositionObj = GPSPosition::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    Q_ASSERT(gpsPositionObj);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    GPSPosition::DataFields gpsPositionData = gpsPositionObj-&gt;getData();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// get current GPS heading, latitude, longitude, and altitude</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    gps_heading = gpsPositionData.Heading;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    gps_latitude = gpsPositionData.Latitude;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    gps_longitude = gpsPositionData.Longitude;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    gps_altitude = gpsPositionData.Altitude;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    gps_pos = <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(gps_latitude, gps_longitude);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">//**********************</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// get the current position and heading estimates</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    AttitudeActual *attitudeActualObj = AttitudeActual::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    PositionActual *positionActualObj = PositionActual::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    VelocityActual *velocityActualObj = VelocityActual::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    Gyros *gyrosObj = Gyros::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    Q_ASSERT(attitudeActualObj);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    Q_ASSERT(positionActualObj);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    Q_ASSERT(velocityActualObj);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    Q_ASSERT(gyrosObj);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    AttitudeActual::DataFields attitudeActualData = attitudeActualObj-&gt;getData();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    PositionActual::DataFields positionActualData = positionActualObj-&gt;getData();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    VelocityActual::DataFields velocityActualData = velocityActualObj-&gt;getData();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    Gyros::DataFields gyrosData = gyrosObj-&gt;getData();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="_o_p_plots_8m.html#abb3119256791e93ec6e33c8eee7035d6">NED</a>[3] = { positionActualData.North, positionActualData.East, positionActualData.Down };</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordtype">double</span> vNED[3] = { velocityActualData.North, velocityActualData.East, velocityActualData.Down };</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// Set the position and heading estimates in the painter module</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetNED(NED);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetCAS(-1); <span class="comment">// THIS NEEDS TO BECOME AIRSPEED, ONCE WE SETTLE ON A UAVO</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetGroundspeed(vNED, m_maxUpdateRate);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">// Convert angular velocities into a rotationg rate around the world-frame yaw axis. This is</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">// found by simply taking the dot product of the angular Euler-rate matrix with the angular</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// rates.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordtype">float</span> psiRate_dps = 0 * gyrosData.z</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        + sin(attitudeActualData.Roll * deg_to_rad) / cos(attitudeActualData.Pitch * deg_to_rad)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            * gyrosData.y</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        + cos(attitudeActualData.Roll * deg_to_rad) / cos(attitudeActualData.Pitch * deg_to_rad)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            * gyrosData.z;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// Set the angular rate in the painter module</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetYawRate(psiRate_dps); <span class="comment">// Not correct, but I&#39;m being lazy right now.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// *************</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// display the UAV position</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    QString str = <span class="stringliteral">&quot;lat: &quot;</span> + QString::number(uav_pos.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot; lon: &quot;</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        + QString::number(uav_pos.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot; &quot;</span> + QString::number(uav_yaw, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot;deg&quot;</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        + <span class="stringliteral">&quot; &quot;</span> + QString::number(uav_altitude, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot;m&quot;</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">//            &quot; &quot; + QString::number(uav_ground_speed_meters_per_second, &#39;f&#39;, 1) + &quot;m/s&quot;;</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    m_widget-&gt;labelUAVPos-&gt;setText(str);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// *************</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// set the UAV icon position on the map</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetUAVPos(uav_pos, uav_altitude); <span class="comment">// set the maps UAV position</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">//  qDebug()&lt;&lt;&quot;UAVPOSITION&quot;&lt;&lt;uav_pos.ToString();</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetUAVHeading(uav_yaw); <span class="comment">// set the maps UAV heading</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// *************</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// set the GPS icon position on the map</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetUAVPos(gps_pos, gps_altitude); <span class="comment">// set the maps GPS position</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetUAVHeading(gps_heading); <span class="comment">// set the maps GPS heading</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;updateTextOverlay();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;update();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="comment">// *************</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::updateMousePos()</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;{</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    QPoint p = m_map-&gt;mapFromGlobal(QCursor::pos());</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> lat_lon =</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga857fbd8ef743957c9b5c102e2cb0fbc9">GetFromLocalToLatLng</a>(p); <span class="comment">// fetch the current lat/lon mouse position</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    lastLatLngMouse = lat_lon;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">if</span> (!m_map-&gt;contentsRect().contains(p))</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// the mouse is not on the map</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    QGraphicsItem *item = m_map-&gt;itemAt(p);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">// find out if we are over the home position</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="classmapcontrol_1_1_home_item.html">mapcontrol::HomeItem</a> *home = qgraphicsitem_cast&lt;<a class="code" href="classmapcontrol_1_1_home_item.html">mapcontrol::HomeItem</a> *&gt;(item);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// find out if we have a waypoint under the mouse cursor</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="classmapcontrol_1_1_way_point_item.html">mapcontrol::WayPointItem</a> *wp = qgraphicsitem_cast&lt;<a class="code" href="classmapcontrol_1_1_way_point_item.html">mapcontrol::WayPointItem</a> *&gt;(item);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (m_mouse_lat_lon == lat_lon)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// the mouse has not moved</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    m_mouse_lat_lon = lat_lon; <span class="comment">// yes it has!</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> home_lat_lon = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;Coord();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    QString <a class="code" href="_o_p_plots_8m.html#a2f07e0f444810cc4e54ee2be2ce0ac65">s1</a> = QString::number(m_mouse_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot;  &quot;</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        + QString::number(m_mouse_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), <span class="charliteral">&#39;f&#39;</span>, 7);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">if</span> (wp) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        s1 += <span class="stringliteral">&quot;  wp[&quot;</span> + QString::number(wp-&gt;numberAdjusted()) + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordtype">double</span> dist = distance(home_lat_lon, wp-&gt;Coord());</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordtype">double</span> bear = bearing(home_lat_lon, wp-&gt;Coord());</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        s1 += <span class="stringliteral">&quot;  &quot;</span> + QString::number(dist * 1000, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot;m&quot;</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        s1 += <span class="stringliteral">&quot;  &quot;</span> + QString::number(bear, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot;deg&quot;</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (home) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        s1 += <span class="stringliteral">&quot;  home&quot;</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordtype">double</span> dist = distance(home_lat_lon, m_mouse_lat_lon);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordtype">double</span> bear = bearing(home_lat_lon, m_mouse_lat_lon);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        s1 += <span class="stringliteral">&quot;  &quot;</span> + QString::number(dist * 1000, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot;m&quot;</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        s1 += <span class="stringliteral">&quot;  &quot;</span> + QString::number(bear, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot;deg&quot;</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    m_widget-&gt;labelMousePos-&gt;setText(s1);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordtype">double</span> NED[3];</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordtype">double</span> homeLLA[3] = { home_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), home_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), 0 };</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="_o_p_plots_8m.html#a011779f2c5f2a3505308bb1369101a54">LLA</a>[3] = { m_mouse_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), m_mouse_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), 0 };</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="class_utils_1_1_coordinate_conversions.html">Utils::CoordinateConversions</a>().<a class="code" href="class_utils_1_1_coordinate_conversions.html#a1dc099f580d3a37ef39bb155cc7e4e62">LLA2NED_HomeLLA</a>(LLA, homeLLA, NED); <span class="comment">//&lt;-- This yields, NED, the</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                                                       <span class="comment">//tile size in meters,</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                                                                       <span class="comment">//assuming we are at the</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                                                       <span class="comment">//origin in a plate carre</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                                                                       <span class="comment">//system</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    QString <a class="code" href="_o_p_plots_8m.html#a2e63e71737e8b6802b81f6a7c5ca6a0a">s2</a> = QString::number(NED[0], <span class="charliteral">&#39;g&#39;</span>, 5) + <span class="stringliteral">&quot;  &quot;</span> + QString::number(NED[1], <span class="charliteral">&#39;g&#39;</span>, 5);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    m_widget-&gt;labelNEDCoords-&gt;setText(s2);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">// map signals</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::zoomChanged(<span class="keywordtype">double</span> zoomt, <span class="keywordtype">double</span> zoom, <span class="keywordtype">double</span> zoomd)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;{</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    QString <a class="code" href="uavobjecttemplate_8m.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <span class="stringliteral">&quot;tot:&quot;</span> + QString::number(zoomt, <span class="charliteral">&#39;f&#39;</span>, 1) + <span class="stringliteral">&quot; rea:&quot;</span> + QString::number(zoom, <span class="charliteral">&#39;f&#39;</span>, 1)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        + <span class="stringliteral">&quot; dig:&quot;</span> + QString::number(zoomd, <span class="charliteral">&#39;f&#39;</span>, 1);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    m_widget-&gt;labelMapZoom-&gt;setText(s);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordtype">int</span> i_zoom = (int)(zoomt + 0.5);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span> (i_zoom &lt; m_min_zoom)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        i_zoom = m_min_zoom;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i_zoom &gt; m_max_zoom)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        i_zoom = m_max_zoom;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span> (m_widget-&gt;horizontalSliderZoom-&gt;value() != i_zoom)</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        m_widget-&gt;horizontalSliderZoom-&gt;setValue(i_zoom); <span class="comment">// set the GUI zoom slider position</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordtype">int</span> index0_zoom = i_zoom - m_min_zoom; <span class="comment">// zoom level starting at index level &#39;0&#39;</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (index0_zoom &lt; zoomAct.count())</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        zoomAct.at(index0_zoom)-&gt;setChecked(<span class="keyword">true</span>); <span class="comment">// set the right-click context menu zoom level</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::OnCurrentPositionChanged(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> point)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    QString coord_str =</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        QString::number(point.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot;   &quot;</span> + QString::number(point.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    m_widget-&gt;labelMapPos-&gt;setText(coord_str);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::OnTilesStillToLoad(<span class="keywordtype">int</span> number)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;{</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span> (m_widget-&gt;progressBarMap-&gt;maximum() &lt; number)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        m_widget-&gt;progressBarMap-&gt;setMaximum(number);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    m_widget-&gt;progressBarMap-&gt;setValue(m_widget-&gt;progressBarMap-&gt;maximum()</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                       - number); <span class="comment">// update the progress bar</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    m_prev_tile_number = number;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::OnTileLoadStart()</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    m_widget-&gt;progressBarMap-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::OnTileLoadComplete()</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    m_widget-&gt;progressBarMap-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonZoomP_clicked()</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    zoomIn();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonZoomM_clicked()</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    zoomOut();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;}</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonMapHome_clicked()</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;{</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gab81157189920148cb4178548aeef4b92">goHome</a>();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonMapUAV_clicked()</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    followUAVpositionAct-&gt;toggle();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonMapUAVheading_clicked()</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    followUAVheadingAct-&gt;toggle();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_horizontalSliderZoom_sliderMoved(<span class="keywordtype">int</span> position)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;{</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gaa2731b7fb965c417860b30ac354437ca">setZoom</a>(position);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonNormalMapMode_clicked()</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;{</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gafe9c5443c9ed4947f2072bf8feba9673">setMapMode</a>(<a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonMagicWaypointMapMode_clicked()</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gafe9c5443c9ed4947f2072bf8feba9673">setMapMode</a>(<a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonHomeWaypoint_clicked()</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    homeMagicWaypoint();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_toolButtonMoveToWP_clicked()</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;{</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    moveToMagicWaypointPosition();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">// public slots</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gad7068b438d89bb8f2a9e31ef5ca2d708">  881</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gad7068b438d89bb8f2a9e31ef5ca2d708">OPMapGadgetWidget::onTelemetryConnect</a>()</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;{</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    m_telemetry_connected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (!uavo_util_mgr)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordtype">bool</span> set;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordtype">double</span> LLA[3];</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// ***********************</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">// fetch the home location</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span> (uavo_util_mgr-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gac5e7b38a473a50f709fb6312ef511e59">getHomeLocation</a>(set, LLA) &lt; 0)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">setHome</a>(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(LLA[0], LLA[1]), LLA[2]);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (m_map) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;GetMapFollowType() != UAVMapFollowType::None)</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">SetCurrentPosition</a>(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>); <span class="comment">// set the map position</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// ***********************</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga723918dc2ebb03ce17180228e4233d06">  906</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga723918dc2ebb03ce17180228e4233d06">OPMapGadgetWidget::onTelemetryDisconnect</a>()</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    m_telemetry_connected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;}</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">// Updates the Home position icon whenever the HomePosition object is updated</span></div>
<div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gae67526d9495209b93360c1fae84e3d47">  912</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gae67526d9495209b93360c1fae84e3d47">OPMapGadgetWidget::homePositionUpdated</a>(<a class="code" href="class_u_a_v_object.html">UAVObject</a> *hp)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;{</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    Q_UNUSED(hp);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (!uavo_util_mgr)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">bool</span> set;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordtype">double</span> LLA[3];</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (uavo_util_mgr-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gac5e7b38a473a50f709fb6312ef511e59">getHomeLocation</a>(set, LLA) &lt; 0)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">setHome</a>(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(LLA[0], LLA[1]), LLA[2]);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">// public functions</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">  930</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">OPMapGadgetWidget::setHome</a>(QPointF pos)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordtype">double</span> latitude = pos.x();</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordtype">double</span> longitude = pos.y();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> (latitude &gt; 90)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        latitude = 90;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &lt; -90)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        latitude = -90;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">if</span> (longitude != longitude)</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        longitude = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &gt; 180)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        longitude = 180;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &lt; -180)</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        longitude = -180;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">setHome</a>(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(latitude, longitude), 0);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga7eaa4b0e19be1df614f49d7b86393a19">  956</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">OPMapGadgetWidget::setHome</a>(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> pos_lat_lon, <span class="keywordtype">double</span> altitude)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> (pos_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() != pos_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() || pos_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>() != pos_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>())</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    ; <span class="comment">// nan prevention</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordtype">double</span> latitude = pos_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordtype">double</span> longitude = pos_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>();</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (latitude != latitude)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        latitude = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &gt; 90)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        latitude = 90;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &lt; -90)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        latitude = -90;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (longitude != longitude)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        longitude = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &gt; 180)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        longitude = 180;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &lt; -180)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        longitude = -180;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// *********</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a> = <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(latitude, longitude);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga14ce78cb516fe7a0e7f20e423e92d538">altitude</a> = altitude;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetCoord(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetAltitude(altitude);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga1c60e950a733d8e38796cfe092fb4154">RefreshPos</a>();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">// move the magic waypoint to keep it within the safe area boundry</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    keepMagicWaypointWithInSafeArea();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gab81157189920148cb4178548aeef4b92">  998</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gab81157189920148cb4178548aeef4b92">OPMapGadgetWidget::goHome</a>()</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    followUAVpositionAct-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> home_pos = m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>; <span class="comment">// get the home location</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">SetCurrentPosition</a>(home_pos); <span class="comment">// center the map onto the home location</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::zoomIn()</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;{</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordtype">int</span> zoom = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9150c5038d73a6fa54ec7a91220c1c06">ZoomTotal</a>() + 1;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">if</span> (zoom &lt; m_min_zoom)</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        zoom = m_min_zoom;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zoom &gt; m_max_zoom)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        zoom = m_max_zoom;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gad947abf0ada4a4ec667cbe73ca94e870">SetZoom</a>(zoom);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;}</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::zoomOut()</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordtype">int</span> zoom = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9150c5038d73a6fa54ec7a91220c1c06">ZoomTotal</a>() - 1;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (zoom &lt; m_min_zoom)</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        zoom = m_min_zoom;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zoom &gt; m_max_zoom)</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        zoom = m_max_zoom;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gad947abf0ada4a4ec667cbe73ca94e870">SetZoom</a>(zoom);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;}</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga865f22d42c30a2446539f03df486e64e"> 1039</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga865f22d42c30a2446539f03df486e64e">OPMapGadgetWidget::setMaxUpdateRate</a>(<span class="keywordtype">int</span> update_rate)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;{</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordtype">int</span> list_size = <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>) / <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[0]);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordtype">int</span> min_rate = <a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[0];</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordtype">int</span> max_rate = <a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[list_size - 1];</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (update_rate &lt; min_rate)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        update_rate = min_rate;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (update_rate &gt; max_rate)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        update_rate = max_rate;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    m_maxUpdateRate = update_rate;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (m_updateTimer)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        m_updateTimer-&gt;setInterval(m_maxUpdateRate);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">//  if (m_statusUpdateTimer)</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">//          m_statusUpdateTimer-&gt;setInterval(m_maxUpdateRate);</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;}</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gaa2731b7fb965c417860b30ac354437ca"> 1062</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gaa2731b7fb965c417860b30ac354437ca">OPMapGadgetWidget::setZoom</a>(<span class="keywordtype">int</span> zoom)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (zoom &lt; m_min_zoom)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        zoom = m_min_zoom;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zoom &gt; m_max_zoom)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        zoom = m_max_zoom;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    internals::MouseWheelZoomType::Types zoom_type = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gaa6af0c32f6fea05e734c38f361716a98">GetMouseWheelZoomType</a>();</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gaeff7938fb4e8fca52ac6d4cce6b7d2e6">SetMouseWheelZoomType</a>(internals::MouseWheelZoomType::ViewCenter);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gad947abf0ada4a4ec667cbe73ca94e870">SetZoom</a>(zoom);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gaeff7938fb4e8fca52ac6d4cce6b7d2e6">SetMouseWheelZoomType</a>(zoom_type);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga7d642e3ea7bf1e5cd0cc8be6dafc7ba8"> 1079</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga7d642e3ea7bf1e5cd0cc8be6dafc7ba8">OPMapGadgetWidget::setOverlayOpacity</a>(qreal value)</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;{</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga1652258d99f7b01d65f0155f89a2f516">setOverlayOpacity</a>(value);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    overlayOpacityAct.at(value * 10)-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga44a752ab2b6f6b6212e39316b4050683"> 1087</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga44a752ab2b6f6b6212e39316b4050683">OPMapGadgetWidget::setHomePosition</a>(QPointF pos)</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordtype">double</span> latitude = pos.y();</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordtype">double</span> longitude = pos.x();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span> (latitude != latitude || longitude != longitude)</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// nan prevention</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">if</span> (latitude &gt; 90)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        latitude = 90;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &lt; -90)</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        latitude = -90;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">if</span> (longitude &gt; 180)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        longitude = 180;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &lt; -180)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        longitude = -180;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetCoord(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(latitude, longitude));</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga4c9793fea42fd12ba9f7f27c25f98523"> 1111</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga4c9793fea42fd12ba9f7f27c25f98523">OPMapGadgetWidget::setPosition</a>(QPointF pos)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;{</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordtype">double</span> latitude = pos.y();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordtype">double</span> longitude = pos.x();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> (latitude != latitude || longitude != longitude)</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// nan prevention</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (latitude &gt; 90)</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        latitude = 90;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &lt; -90)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        latitude = -90;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">if</span> (longitude &gt; 180)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        longitude = 180;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &lt; -180)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        longitude = -180;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">SetCurrentPosition</a>(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(latitude, longitude));</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div>
<div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga2677250df0511efbc1955d7a7af5e08f"> 1134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga2677250df0511efbc1955d7a7af5e08f">OPMapGadgetWidget::setGeoCodingLanguage</a>(QString language)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;{</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gacf27205703112c3235bb5186da81871b">configuration</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga29b42ec96098c35b537e64d33d6c41b5">SetLanguage</a>(<a class="code" href="group___t_l_map_widget.html#ga1a7989d295311b564112f0adc0e9158d">mapcontrol::Helper::LanguageTypeFromString</a>(language));</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gab677b7feb42a6edd833e63325d2a928b"> 1141</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gab677b7feb42a6edd833e63325d2a928b">OPMapGadgetWidget::setMapProvider</a>(QString provider)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;{</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gac57d3f450054ad704111e819accef082">SetMapType</a>(<a class="code" href="group___t_l_map_widget.html#gae829b229cde8f7beebc9f3c0981f674c">mapcontrol::Helper::MapTypeFromString</a>(provider));</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div>
<div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga5187482d55aa0753cb6395bef5c402dd"> 1148</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga5187482d55aa0753cb6395bef5c402dd">OPMapGadgetWidget::setAccessMode</a>(QString accessMode)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gacf27205703112c3235bb5186da81871b">configuration</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga41001a3e8948832246f19baf28c45e68">SetAccessMode</a>(<a class="code" href="group___t_l_map_widget.html#ga800ba0d0ba832cda15296dcc2bad12c5">mapcontrol::Helper::AccessModeFromString</a>(accessMode));</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga30af002abadbc8e420a9fe75f5042765"> 1156</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga30af002abadbc8e420a9fe75f5042765">OPMapGadgetWidget::setShowTileGridLines</a>(<span class="keywordtype">bool</span> showTileGridLines)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;{</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga99c6255507a37fcf32e37fa7b6c13a31">SetShowTileGridLines</a>(showTileGridLines);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div>
<div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gad5bce7bba1964ba7d8303ec72e107dd8"> 1164</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gad5bce7bba1964ba7d8303ec72e107dd8">OPMapGadgetWidget::setUseMemoryCache</a>(<span class="keywordtype">bool</span> useMemoryCache)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gacf27205703112c3235bb5186da81871b">configuration</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga323ea9b6071044204ce278734ef855fb">SetUseMemoryCache</a>(useMemoryCache);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gab99ed3caf53adec86782ef89c0e8f47a"> 1172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gab99ed3caf53adec86782ef89c0e8f47a">OPMapGadgetWidget::setCacheLocation</a>(QString cacheLocation)</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;{</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    cacheLocation = cacheLocation.simplified(); <span class="comment">// remove any surrounding spaces</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span> (cacheLocation.isEmpty())</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">if</span> (!cacheLocation.endsWith(QDir::separator()))</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        cacheLocation += QDir::separator();</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    QDir dir;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span> (!dir.exists(cacheLocation))</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="keywordflow">if</span> (!dir.mkpath(cacheLocation))</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gacf27205703112c3235bb5186da81871b">configuration</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga735443d74919b6c74f91fbf1f0576931">SetCacheLocation</a>(cacheLocation);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gafe9c5443c9ed4947f2072bf8feba9673"> 1192</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gafe9c5443c9ed4947f2072bf8feba9673">OPMapGadgetWidget::setMapMode</a>(<a class="code" href="group___o_p_map_plugin.html#ga10cb3e7dfbac87e40e00c1a8c76c16e5">opMapModeType</a> mode)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;{</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> (mode != <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a> &amp;&amp; mode != <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        mode = <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>; <span class="comment">// fix error</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (m_map_mode == mode) { <span class="comment">// no change in map mode</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">switch</span> (mode) { <span class="comment">// make sure the UI buttons are set correctly</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>:</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            m_widget-&gt;toolButtonMagicWaypointMapMode-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            m_widget-&gt;toolButtonNormalMapMode-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>:</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            m_widget-&gt;toolButtonNormalMapMode-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            m_widget-&gt;toolButtonMagicWaypointMapMode-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">switch</span> (mode) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>:</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        m_map_mode = <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        m_widget-&gt;toolButtonMagicWaypointMapMode-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        m_widget-&gt;toolButtonNormalMapMode-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        hideMagicWaypointControls();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        magicWayPoint-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga20c9dd8b85bc54673456b6271b6de9af">WPSetVisibleAll</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>:</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        m_map_mode = <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        m_widget-&gt;toolButtonNormalMapMode-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        m_widget-&gt;toolButtonMagicWaypointMapMode-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        showMagicWaypointControls();</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="comment">// delete the normal waypoints from the map</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga20c9dd8b85bc54673456b6271b6de9af">WPSetVisibleAll</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        magicWayPoint-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#ga7afda7ed24be3606e25a6005fcc881da"> 1245</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#ga7afda7ed24be3606e25a6005fcc881da">OPMapGadgetWidget::setUserImageLocation</a>(QString userImageLocation)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga0f5ee93a82e5aef8c8924c276b23df5f">SetUserImageLocation</a>(userImageLocation);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div>
<div class="line"><a name="l01249"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gab57277e52834ff73fe190391e3b2aa40"> 1249</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gab57277e52834ff73fe190391e3b2aa40">OPMapGadgetWidget::setUserImageHorizontalScale</a>(<span class="keywordtype">double</span> userImageHorizontalScale)</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;{</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gaa5f3a1462fd4e560fab7cef8f4d1d3e8">SetUserImageHorizontalScale</a>(userImageHorizontalScale);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gab9a1ad0c6a406ed144ba3ec120d94d28"> 1253</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gab9a1ad0c6a406ed144ba3ec120d94d28">OPMapGadgetWidget::setUserImageVerticalScale</a>(<span class="keywordtype">double</span> userImageVerticalScale)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;{</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gad9889968d9caeceb11bcf41bf7fcd49d">SetUserImageVerticalScale</a>(userImageVerticalScale);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">// Context menu stuff</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::createActions()</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;{</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordtype">int</span> list_size;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="comment">// ***********************</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">// create menu actions</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    closeAct1 = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Close menu&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    closeAct1-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Close the context menu&quot;</span>));</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    closeAct2 = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Close menu&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    closeAct2-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Close the context menu&quot;</span>));</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    reloadAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Reload map&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    reloadAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;F5&quot;</span>));</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    reloadAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Reload the map tiles&quot;</span>));</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    connect(reloadAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onReloadAct_triggered);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    this-&gt;addAction(reloadAct);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    ripAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Rip map&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    ripAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Rip the map tiles&quot;</span>));</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    connect(ripAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onRipAct_triggered);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    copyMouseLatLonToClipAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Mouse latitude and longitude&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    copyMouseLatLonToClipAct-&gt;setStatusTip(</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        tr(<span class="stringliteral">&quot;Copy the mouse latitude and longitude to the clipboard&quot;</span>));</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    connect(copyMouseLatLonToClipAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            &amp;OPMapGadgetWidget::onCopyMouseLatLonToClipAct_triggered);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    copyMouseLatToClipAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Mouse latitude&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    copyMouseLatToClipAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Copy the mouse latitude to the clipboard&quot;</span>));</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    connect(copyMouseLatToClipAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            &amp;OPMapGadgetWidget::onCopyMouseLatToClipAct_triggered);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    copyMouseLonToClipAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Mouse longitude&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    copyMouseLonToClipAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Copy the mouse longitude to the clipboard&quot;</span>));</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    connect(copyMouseLonToClipAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            &amp;OPMapGadgetWidget::onCopyMouseLonToClipAct_triggered);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    showCompassRoseAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show compass&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    showCompassRoseAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the compass&quot;</span>));</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    showCompassRoseAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    showCompassRoseAct-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    connect(showCompassRoseAct, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            &amp;OPMapGadgetWidget::onShowCompassRoseAct_toggled);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    showWindCompassAction = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show wind compass&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    showWindCompassAction-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the wind compass&quot;</span>));</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    showWindCompassAction-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    showWindCompassAction-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    connect(showWindCompassAction, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            &amp;OPMapGadgetWidget::onShowWindCompassAction_toggled);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    showDiagnostics = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show Diagnostics&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    showDiagnostics-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the diagnostics&quot;</span>));</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    showDiagnostics-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    showDiagnostics-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    connect(showDiagnostics, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            &amp;OPMapGadgetWidget::onShowDiagnostics_toggled);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    showUAVInfo = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show UAV Info&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    showUAVInfo-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the UAV info&quot;</span>));</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    showUAVInfo-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    showUAVInfo-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    connect(showUAVInfo, &amp;QAction::toggled, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onShowUAVInfo_toggled);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    showHomeAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show Home&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    showHomeAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the Home location&quot;</span>));</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    showHomeAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    showHomeAct-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    connect(showHomeAct, &amp;QAction::toggled, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onShowHomeAct_toggled);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    showUAVAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show UAV&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    showUAVAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the UAV&quot;</span>));</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    showUAVAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    showUAVAct-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    connect(showUAVAct, &amp;QAction::toggled, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onShowUAVAct_toggled);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    changeDefaultLocalAndZoom = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Set default zoom and location&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    changeDefaultLocalAndZoom-&gt;setStatusTip(</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        tr(<span class="stringliteral">&quot;Changes the map default zoom and location to the current values&quot;</span>));</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    connect(changeDefaultLocalAndZoom, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            &amp;OPMapGadgetWidget::onChangeDefaultLocalAndZoom);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    zoomInAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Zoom &amp;In&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    zoomInAct-&gt;setShortcut(Qt::Key_PageUp);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    zoomInAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Zoom the map in&quot;</span>));</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    connect(zoomInAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onGoZoomInAct_triggered);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    this-&gt;addAction(zoomInAct);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    zoomOutAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Zoom &amp;Out&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    zoomOutAct-&gt;setShortcut(Qt::Key_PageDown);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    zoomOutAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Zoom the map out&quot;</span>));</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    connect(zoomOutAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onGoZoomOutAct_triggered);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    this-&gt;addAction(zoomOutAct);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    goMouseClickAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Go to where you right clicked the mouse&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    goMouseClickAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Center the map onto where you right clicked the mouse&quot;</span>));</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    connect(goMouseClickAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            &amp;OPMapGadgetWidget::onGoMouseClickAct_triggered);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    setHomeAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Set the home location&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    setHomeAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Set the home location to where you clicked&quot;</span>));</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    connect(setHomeAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onSetHomeAct_triggered);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    goHomeAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Go to &amp;Home location&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    goHomeAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+H&quot;</span>));</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    goHomeAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Center the map onto the home location&quot;</span>));</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    connect(goHomeAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onGoHomeAct_triggered);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    goUAVAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Go to &amp;UAV location&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    goUAVAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+U&quot;</span>));</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    goUAVAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Center the map onto the UAV location&quot;</span>));</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    connect(goUAVAct, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onGoUAVAct_triggered);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    followUAVpositionAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Follow UAV position&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    followUAVpositionAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+F&quot;</span>));</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    followUAVpositionAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Keep the map centered onto the UAV&quot;</span>));</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    followUAVpositionAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    followUAVpositionAct-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    connect(followUAVpositionAct, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            &amp;OPMapGadgetWidget::onFollowUAVpositionAct_toggled);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    followUAVheadingAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Follow UAV heading&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    followUAVheadingAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+F&quot;</span>));</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    followUAVheadingAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Keep the map rotation to the UAV heading&quot;</span>));</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    followUAVheadingAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    followUAVheadingAct-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    connect(followUAVheadingAct, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            &amp;OPMapGadgetWidget::onFollowUAVheadingAct_toggled);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    wayPointEditorAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Waypoint editor&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    wayPointEditorAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+W&quot;</span>));</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    wayPointEditorAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Open the waypoint editor&quot;</span>));</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    connect(wayPointEditorAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            &amp;OPMapGadgetWidget::onOpenWayPointEditorAct_triggered);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    addWayPointActFromContextMenu = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Add waypoint&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    addWayPointActFromContextMenu-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+A&quot;</span>));</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    addWayPointActFromContextMenu-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Add waypoint&quot;</span>));</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    connect(addWayPointActFromContextMenu, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            &amp;OPMapGadgetWidget::onAddWayPointAct_triggeredFromContextMenu);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    addWayPointActFromThis = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Add waypoint&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    addWayPointActFromThis-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+A&quot;</span>));</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    addWayPointActFromThis-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Add waypoint&quot;</span>));</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    connect(addWayPointActFromThis, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            &amp;OPMapGadgetWidget::onAddWayPointAct_triggeredFromThis);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    this-&gt;addAction(addWayPointActFromThis);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    editWayPointAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Edit waypoint&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    editWayPointAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+E&quot;</span>));</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    editWayPointAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Edit waypoint&quot;</span>));</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    connect(editWayPointAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            &amp;OPMapGadgetWidget::onEditWayPointAct_triggered);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    lockWayPointAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Lock waypoint&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    lockWayPointAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Lock/Unlock a waypoint&quot;</span>));</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    lockWayPointAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    lockWayPointAct-&gt;setChecked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    connect(lockWayPointAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            &amp;OPMapGadgetWidget::onLockWayPointAct_triggered);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    deleteWayPointAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Delete waypoint&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    deleteWayPointAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+D&quot;</span>));</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    deleteWayPointAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Delete waypoint&quot;</span>));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    connect(deleteWayPointAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            &amp;OPMapGadgetWidget::onDeleteWayPointAct_triggered);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    clearWayPointsAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Clear waypoints&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    clearWayPointsAct-&gt;setShortcut(tr(<span class="stringliteral">&quot;Ctrl+C&quot;</span>));</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    clearWayPointsAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Clear waypoints&quot;</span>));</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    connect(clearWayPointsAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            &amp;OPMapGadgetWidget::onClearWayPointsAct_triggered);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    overlayOpacityActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    connect(overlayOpacityActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            &amp;OPMapGadgetWidget::onOverlayOpacityActGroup_triggered);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    overlayOpacityAct.clear();</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt;= 10; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        QAction *overlayAct = <span class="keyword">new</span> QAction(QString::number(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> * 10), overlayOpacityActGroup);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        overlayAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        overlayAct-&gt;setData(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> * 10);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        overlayOpacityAct.append(overlayAct);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    homeMagicWaypointAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Home magic waypoint&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    homeMagicWaypointAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Move the magic waypoint to the home position&quot;</span>));</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    connect(homeMagicWaypointAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            &amp;OPMapGadgetWidget::onHomeMagicWaypointAct_triggered);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    mapModeActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    connect(mapModeActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            &amp;OPMapGadgetWidget::onMapModeActGroup_triggered);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    mapModeAct.clear();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        QAction *map_mode_act;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        map_mode_act = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Normal&quot;</span>), mapModeActGroup);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        map_mode_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        map_mode_act-&gt;setChecked(m_map_mode == <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        map_mode_act-&gt;setData((<span class="keywordtype">int</span>)<a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        mapModeAct.append(map_mode_act);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        map_mode_act = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Magic Waypoint&quot;</span>), mapModeActGroup);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        map_mode_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        map_mode_act-&gt;setChecked(m_map_mode == <a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        map_mode_act-&gt;setData((<span class="keywordtype">int</span>)<a class="code" href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a>);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        mapModeAct.append(map_mode_act);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    zoomActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    connect(zoomActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            &amp;OPMapGadgetWidget::onZoomActGroup_triggered);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    zoomAct.clear();</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = m_min_zoom; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt;= m_max_zoom; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        QAction *zoom_act = <span class="keyword">new</span> QAction(QString::number(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>), zoomActGroup);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        zoom_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        zoom_act-&gt;setData(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        zoomAct.append(zoom_act);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    maxUpdateRateActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    connect(maxUpdateRateActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            &amp;OPMapGadgetWidget::onMaxUpdateRateActGroup_triggered);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    maxUpdateRateAct.clear();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    list_size = <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>) / <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[0]);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; list_size; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        QAction *maxUpdateRate_act;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordtype">int</span> j = <a class="code" href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a>[<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>];</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        maxUpdateRate_act = <span class="keyword">new</span> QAction(QString::number(j), maxUpdateRateActGroup);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        maxUpdateRate_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        maxUpdateRate_act-&gt;setData(j);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        maxUpdateRate_act-&gt;setChecked(j == m_maxUpdateRate);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        maxUpdateRateAct.append(maxUpdateRate_act);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// *****</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// safe area</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    showSafeAreaAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show Safe Area&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    showSafeAreaAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the Safe Area around the home location&quot;</span>));</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    showSafeAreaAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    showSafeAreaAct-&gt;setChecked(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;ShowSafeArea());</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    connect(showSafeAreaAct, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            &amp;OPMapGadgetWidget::onShowSafeAreaAct_toggled);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    safeAreaActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    connect(safeAreaActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            &amp;OPMapGadgetWidget::onSafeAreaActGroup_triggered);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    safeAreaAct.clear();</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    list_size = <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">safe_area_radius_list</a>) / <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">safe_area_radius_list</a>[0]);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; list_size; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="keywordtype">int</span> safeArea = <a class="code" href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">safe_area_radius_list</a>[<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>];</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        QAction *safeArea_act = <span class="keyword">new</span> QAction(QString::number(safeArea) + <span class="stringliteral">&quot;m&quot;</span>, safeAreaActGroup);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        safeArea_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        safeArea_act-&gt;setChecked(safeArea == m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SafeArea());</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        safeArea_act-&gt;setData(safeArea);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        safeAreaAct.append(safeArea_act);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="comment">// *****</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="comment">// UAV trail</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    uavTrailTypeActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    connect(uavTrailTypeActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            &amp;OPMapGadgetWidget::onUAVTrailTypeActGroup_triggered);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    uavTrailTypeAct.clear();</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    QStringList uav_trail_type_list = <a class="code" href="group___t_l_map_widget.html#gad33e776681a2d3d4d44bef508d231336">mapcontrol::Helper::UAVTrailTypes</a>();</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; uav_trail_type_list.count(); <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        mapcontrol::UAVTrailType::Types uav_trail_type =</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            <a class="code" href="group___t_l_map_widget.html#ga09a4876b008985c01beda818f860830b">mapcontrol::Helper::UAVTrailTypeFromString</a>(uav_trail_type_list[<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>]);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        QAction *uavTrailType_act = <span class="keyword">new</span> QAction(</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <a class="code" href="group___t_l_map_widget.html#gab2895e09cf7115779c738cc43d815123">mapcontrol::Helper::StrFromUAVTrailType</a>(uav_trail_type), uavTrailTypeActGroup);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        uavTrailType_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        uavTrailType_act-&gt;setChecked(uav_trail_type == m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;GetTrailType());</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        uavTrailType_act-&gt;setData(<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        uavTrailTypeAct.append(uavTrailType_act);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    showTrailAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show Trail dots&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    showTrailAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the Trail dots&quot;</span>));</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    showTrailAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    showTrailAct-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    connect(showTrailAct, &amp;QAction::toggled, <span class="keyword">this</span>, &amp;OPMapGadgetWidget::onShowTrailAct_toggled);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    showTrailLineAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Show Trail lines&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    showTrailLineAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Show/Hide the Trail lines&quot;</span>));</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    showTrailLineAct-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    showTrailLineAct-&gt;setChecked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    connect(showTrailLineAct, &amp;QAction::toggled, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            &amp;OPMapGadgetWidget::onShowTrailLineAct_toggled);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    clearUAVtrailAct = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;Clear UAV trail&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    clearUAVtrailAct-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Clear the UAV trail&quot;</span>));</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    connect(clearUAVtrailAct, &amp;QAction::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            &amp;OPMapGadgetWidget::onClearUAVtrailAct_triggered);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    uavTrailTimeActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    connect(uavTrailTimeActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            &amp;OPMapGadgetWidget::onUAVTrailTimeActGroup_triggered);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    uavTrailTimeAct.clear();</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    list_size = <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a>) / <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a>[0]);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; list_size; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordtype">int</span> uav_trail_time = <a class="code" href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a>[<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>];</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        QAction *uavTrailTime_act =</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="keyword">new</span> QAction(QString::number(uav_trail_time) + <span class="stringliteral">&quot; sec&quot;</span>, uavTrailTimeActGroup);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        uavTrailTime_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        uavTrailTime_act-&gt;setChecked(uav_trail_time == m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;TrailTime());</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        uavTrailTime_act-&gt;setData(uav_trail_time);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        uavTrailTimeAct.append(uavTrailTime_act);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    uavTrailDistanceActGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    connect(uavTrailDistanceActGroup, &amp;QActionGroup::triggered, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            &amp;OPMapGadgetWidget::onUAVTrailDistanceActGroup_triggered);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    uavTrailDistanceAct.clear();</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    list_size = <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a>) / <span class="keyword">sizeof</span>(<a class="code" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a>[0]);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 0; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> &lt; list_size; <a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>++) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordtype">int</span> uav_trail_distance = <a class="code" href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a>[<a class="code" href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>];</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        QAction *uavTrailDistance_act =</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keyword">new</span> QAction(QString::number(uav_trail_distance) + <span class="stringliteral">&quot; meters&quot;</span>, uavTrailDistanceActGroup);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        uavTrailDistance_act-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        uavTrailDistance_act-&gt;setChecked(uav_trail_distance == m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;TrailDistance());</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        uavTrailDistance_act-&gt;setData(uav_trail_distance);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        uavTrailDistanceAct.append(uavTrailDistance_act);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;}</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onReloadAct_triggered()</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;{</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga912690a1920ab0638d095bea9b7d6362">ReloadMap</a>();</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;}</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onRipAct_triggered()</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;{</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga084ae5afbd9e82cf1ea496e915bbbbde">RipMap</a>();</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;}</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onCopyMouseLatLonToClipAct_triggered()</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;{</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    QClipboard *clipboard = QApplication::clipboard();</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    clipboard-&gt;setText(QString::number(m_context_menu_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), <span class="charliteral">&#39;f&#39;</span>, 7) + <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                           + QString::number(m_context_menu_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), <span class="charliteral">&#39;f&#39;</span>, 7),</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                       QClipboard::Clipboard);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;}</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onCopyMouseLatToClipAct_triggered()</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;{</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    QClipboard *clipboard = QApplication::clipboard();</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    clipboard-&gt;setText(QString::number(m_context_menu_lat_lon.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), <span class="charliteral">&#39;f&#39;</span>, 7),</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                       QClipboard::Clipboard);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;}</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onCopyMouseLonToClipAct_triggered()</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;{</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    QClipboard *clipboard = QApplication::clipboard();</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    clipboard-&gt;setText(QString::number(m_context_menu_lat_lon.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(), <span class="charliteral">&#39;f&#39;</span>, 7),</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                       QClipboard::Clipboard);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowCompassRoseAct_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;{</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga444c6cedabdc1814a2408c5f53947147">SetShowCompassRose</a>(show);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;}</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowWindCompassAction_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;{</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gad00a3b7e900f23b72008b444a00b70fe">SetShowWindCompass</a>(show);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;}</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowDiagnostics_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;{</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga4d3d88bdaa968b964eae020e8ddac427">SetShowDiagnostics</a>(show);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowUAVInfo_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetShowUAVInfo(show);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;}</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowHomeAct_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;{</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;setVisible(show);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;}</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowUAVAct_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;{</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;setVisible(show);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>)</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;setVisible(show);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;}</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowTrailAct_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;{</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetShowTrail(show);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetShowTrail(show);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;}</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowTrailLineAct_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;{</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetShowTrailLine(show);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>)</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;SetShowTrailLine(show);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onMapModeActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;{</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#ga10cb3e7dfbac87e40e00c1a8c76c16e5">opMapModeType</a> mode = (<a class="code" href="group___o_p_map_plugin.html#ga10cb3e7dfbac87e40e00c1a8c76c16e5">opMapModeType</a>)action-&gt;data().toInt();</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gafe9c5443c9ed4947f2072bf8feba9673">setMapMode</a>(mode);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;}</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onGoZoomInAct_triggered()</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;{</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    zoomIn();</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onGoZoomOutAct_triggered()</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    zoomOut();</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;}</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onZoomActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;{</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gaa2731b7fb965c417860b30ac354437ca">setZoom</a>(action-&gt;data().toInt());</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;}</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onMaxUpdateRateActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;{</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#ga865f22d42c30a2446539f03df486e64e">setMaxUpdateRate</a>(action-&gt;data().toInt());</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;}</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onChangeDefaultLocalAndZoom()</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;{</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    emit <a class="code" href="group___o_p_map_plugin.html#ga1e2bbe9f774b6c505ba7645a868f1c52">defaultLocationAndZoomChanged</a>(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga1a4eff9b0200201f53ab297430804bc8">CurrentPosition</a>().<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(),</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                                       m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga1a4eff9b0200201f53ab297430804bc8">CurrentPosition</a>().<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9150c5038d73a6fa54ec7a91220c1c06">ZoomTotal</a>());</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onGoMouseClickAct_triggered()</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;{</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">SetCurrentPosition</a>(</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gaa3e918b3f99b9849141c32de4da6291b">currentMousePosition</a>()); <span class="comment">// center the map onto the mouse position</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onSetHomeAct_triggered()</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;{</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordtype">float</span> altitude = 0;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="comment">// Get desired HomeLocation altitude from dialog box.</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="comment">// TODO: Populate box with altitude already in HomeLocation UAVO</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    altitude = QInputDialog::getDouble(<span class="keyword">this</span>, tr(<span class="stringliteral">&quot;Set home altitude&quot;</span>),</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                                       tr(<span class="stringliteral">&quot;In [m], referenced to WGS84 geoid:&quot;</span>), altitude, -100,</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                                       100000, 2, &amp;ok);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <a class="code" href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">setHome</a>(m_context_menu_lat_lon, altitude);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    setHomeLocationObject(); <span class="comment">// update the HomeLocation UAVObject</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onGoHomeAct_triggered()</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;{</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <a class="code" href="group___o_p_map_plugin.html#gab81157189920148cb4178548aeef4b92">goHome</a>();</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onGoUAVAct_triggered()</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;{</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordtype">double</span> latitude;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordtype">double</span> longitude;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordtype">double</span> altitude;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">if</span> (getUAVPosition(latitude, longitude, altitude)) <span class="comment">// get current UAV position</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> uav_pos =</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(latitude, longitude); <span class="comment">// current UAV position</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> map_pos = m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga1a4eff9b0200201f53ab297430804bc8">CurrentPosition</a>(); <span class="comment">// current MAP position</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="keywordflow">if</span> (map_pos != uav_pos)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">SetCurrentPosition</a>(uav_pos); <span class="comment">// center the map onto the UAV</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onFollowUAVpositionAct_toggled(<span class="keywordtype">bool</span> checked)</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;{</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">if</span> (m_widget-&gt;toolButtonMapUAV-&gt;isChecked() != checked)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        m_widget-&gt;toolButtonMapUAV-&gt;setChecked(checked);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    setMapFollowingMode();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;}</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onFollowUAVheadingAct_toggled(<span class="keywordtype">bool</span> checked)</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;{</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">if</span> (m_widget-&gt;toolButtonMapUAVheading-&gt;isChecked() != checked)</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        m_widget-&gt;toolButtonMapUAVheading-&gt;setChecked(checked);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    setMapFollowingMode();</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;}</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onUAVTrailTypeActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;{</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="keywordtype">int</span> trail_type_idx = action-&gt;data().toInt();</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    QStringList uav_trail_type_list = <a class="code" href="group___t_l_map_widget.html#gad33e776681a2d3d4d44bef508d231336">mapcontrol::Helper::UAVTrailTypes</a>();</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    mapcontrol::UAVTrailType::Types uav_trail_type =</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <a class="code" href="group___t_l_map_widget.html#ga09a4876b008985c01beda818f860830b">mapcontrol::Helper::UAVTrailTypeFromString</a>(uav_trail_type_list[trail_type_idx]);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetTrailType(uav_trail_type);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onClearUAVtrailAct_triggered()</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;{</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;DeleteTrail();</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">if</span> (m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>)</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">GPS</a>-&gt;DeleteTrail();</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;}</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onUAVTrailTimeActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;{</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordtype">int</span> trail_time = (double)action-&gt;data().toInt();</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetTrailTime(trail_time);</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;}</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onUAVTrailDistanceActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;{</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordtype">int</span> trail_distance = action-&gt;data().toInt();</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetTrailDistance(trail_distance);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;}</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onOpenWayPointEditorAct_triggered()</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;{</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="comment">// create dialog</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    pathPlannerDialog = <span class="keyword">new</span> QDialog(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    pathPlannerDialog-&gt;setModal(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">// create layout dialog</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    QHBoxLayout *dialogLayout = <span class="keyword">new</span> QHBoxLayout(pathPlannerDialog);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    pathPlannerDialog-&gt;setLayout(dialogLayout);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="comment">// create elements of dialog</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    QPointer&lt;PathPlannerGadgetWidget&gt; widget = <span class="keyword">new</span> <a class="code" href="class_path_planner_gadget_widget.html">PathPlannerGadgetWidget</a>(pathPlannerDialog);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    dialogLayout-&gt;addWidget(widget);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    pathPlannerDialog-&gt;show();</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    pathPlannerDialog-&gt;resize(850, 300);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;}</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onAddWayPointAct_triggeredFromContextMenu()</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;{</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    onAddWayPointAct_triggered(m_context_menu_lat_lon);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;}</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onAddWayPointAct_triggeredFromThis()</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;{</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    onAddWayPointAct_triggered(lastLatLngMouse);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;}</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onAddWayPointAct_triggered(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> coord)</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;{</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (m_map_mode != Normal_MapMode)</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    mapProxy-&gt;createWayPoint(coord);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;}</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onEditWayPointAct_triggered()</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;{</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <a class="code" href="class_waypoint_dialog.html">WaypointDialog</a> *dialog = pm-&gt;getObject&lt;<a class="code" href="class_waypoint_dialog.html">WaypointDialog</a>&gt;();</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    Q_ASSERT(dialog);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">if</span> (dialog != NULL)</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        dialog-&gt;show();</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;}</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onLockWayPointAct_triggered()</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;{</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !m_mouse_waypoint)</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordflow">if</span> (m_map_mode != Normal_MapMode)</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordtype">bool</span> locked = (m_mouse_waypoint-&gt;flags() &amp; QGraphicsItem::ItemIsMovable) == 0;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    m_mouse_waypoint-&gt;setFlag(QGraphicsItem::ItemIsMovable, locked);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">if</span> (!locked)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        m_mouse_waypoint-&gt;picture.load(QString::fromUtf8(<span class="stringliteral">&quot;:/opmap/images/waypoint_marker2.png&quot;</span>));</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        m_mouse_waypoint-&gt;picture.load(QString::fromUtf8(<span class="stringliteral">&quot;:/opmap/images/waypoint_marker1.png&quot;</span>));</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    m_mouse_waypoint-&gt;update();</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    m_mouse_waypoint = NULL;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;}</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onDeleteWayPointAct_triggered()</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;{</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">if</span> (m_map_mode != Normal_MapMode)</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">if</span> (!m_mouse_waypoint)</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    mapProxy-&gt;deleteWayPoint(m_mouse_waypoint-&gt;Number());</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onClearWayPointsAct_triggered()</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;{</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="comment">// First, ask to ensure this is what the user wants to do</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    QMessageBox msgBox;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    msgBox.setText(tr(<span class="stringliteral">&quot;Are you sure you want to clear waypoints?&quot;</span>));</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    msgBox.setInformativeText(tr(<span class="stringliteral">&quot;All associated data will be lost.&quot;</span>));</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    msgBox.setStandardButtons(QMessageBox::Yes | QMessageBox::No);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keywordtype">int</span> ret = msgBox.exec();</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">if</span> (ret == QMessageBox::No) {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="keywordflow">if</span> (m_map_mode != Normal_MapMode)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    mapProxy-&gt;deleteAll();</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onHomeMagicWaypointAct_triggered()</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;{</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="comment">// center the magic waypoint on the home position</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    homeMagicWaypoint();</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;}</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onShowSafeAreaAct_toggled(<span class="keywordtype">bool</span> show)</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;{</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetShowSafeArea(show); <span class="comment">// show the safe area</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetToggleRefresh(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga1c60e950a733d8e38796cfe092fb4154">RefreshPos</a>();</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;}</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onSafeAreaActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;{</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordtype">int</span> radius = action-&gt;data().toInt();</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SetSafeArea(radius); <span class="comment">// set the radius (meters)</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;<a class="code" href="group___t_l_map_widget.html#ga1c60e950a733d8e38796cfe092fb4154">RefreshPos</a>();</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="comment">// move the magic waypoint if need be to keep it within the safe area around the home position</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    keepMagicWaypointWithInSafeArea();</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;}</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::homeMagicWaypoint()</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;{</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="keywordflow">if</span> (m_map_mode != MagicWaypoint_MapMode)</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    magicWayPoint-&gt;SetCoord(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="comment">// move the UAV to the magic waypoint position</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::moveToMagicWaypointPosition()</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;{</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keywordflow">if</span> (m_map_mode != MagicWaypoint_MapMode)</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">// show/hide the magic waypoint controls</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::hideMagicWaypointControls()</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;{</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    m_widget-&gt;lineWaypoint-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    m_widget-&gt;toolButtonHomeWaypoint-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    m_widget-&gt;toolButtonMoveToWP-&gt;setVisible(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;}</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::showMagicWaypointControls()</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;{</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    m_widget-&gt;lineWaypoint-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    m_widget-&gt;toolButtonHomeWaypoint-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    m_widget-&gt;toolButtonMoveToWP-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;}</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="comment">// move the magic waypoint to keep it within the safe area boundry</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::keepMagicWaypointWithInSafeArea()</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;{</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// calcute the bearing and distance from the home position to the magic waypoint</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordtype">double</span> dist = distance(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>, magicWayPoint-&gt;Coord());</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordtype">double</span> bear = bearing(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>, magicWayPoint-&gt;Coord());</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="comment">// get the maximum safe distance - in kilometers</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordtype">double</span> boundry_dist = (double)m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>-&gt;SafeArea() / 1000;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span> (dist &gt; boundry_dist)</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        dist = boundry_dist;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="comment">// move the magic waypoint;</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">if</span> (m_map_mode == MagicWaypoint_MapMode) { <span class="comment">// move the on-screen waypoint</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <span class="keywordflow">if</span> (magicWayPoint)</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            magicWayPoint-&gt;SetCoord(destPoint(m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>, bear, dist));</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    }</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;}</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<span class="comment">// return the distance between two points .. in kilometers</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="keywordtype">double</span> OPMapGadgetWidget::distance(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> from, <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> to)</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;{</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordtype">double</span> lat1 = from.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() * deg_to_rad;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordtype">double</span> lon1 = from.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>() * deg_to_rad;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordtype">double</span> lat2 = to.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() * deg_to_rad;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordtype">double</span> lon2 = to.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>() * deg_to_rad;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordflow">return</span> (acos(sin(lat1) * sin(lat2) + cos(lat1) * cos(lat2) * cos(lon2 - lon1))</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            * earth_mean_radius);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="comment">// ***********************</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;}</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="comment">// return the bearing from one point to another .. in degrees</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="keywordtype">double</span> OPMapGadgetWidget::bearing(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> from, <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> to)</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;{</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="keywordtype">double</span> lat1 = from.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() * deg_to_rad;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordtype">double</span> lon1 = from.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>() * deg_to_rad;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="keywordtype">double</span> lat2 = to.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() * deg_to_rad;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordtype">double</span> lon2 = to.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>() * deg_to_rad;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="comment">//    double delta_lat = lat2 - lat1;</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordtype">double</span> delta_lon = lon2 - lon1;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="_o_p_plots_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> = sin(delta_lon) * cos(lat2);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="_o_p_plots_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> = cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(delta_lon);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordtype">double</span> bear = atan2(y, x) * rad_to_deg;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    bear += 360;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordflow">while</span> (bear &lt; 0)</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        bear += 360;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">while</span> (bear &gt;= 360)</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        bear -= 360;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordflow">return</span> bear;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="comment">// return a destination lat/lon point given a source lat/lon point and the bearing and distance from</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="comment">// the source point</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> OPMapGadgetWidget::destPoint(<a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a> source, <span class="keywordtype">double</span> bear,</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                                                    <span class="keywordtype">double</span> dist)</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;{</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordtype">double</span> lat1 = source.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>() * deg_to_rad;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordtype">double</span> lon1 = source.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>() * deg_to_rad;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    bear *= deg_to_rad;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordtype">double</span> ad = dist / earth_mean_radius;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordtype">double</span> lat2 = asin(sin(lat1) * cos(ad) + cos(lat1) * sin(ad) * cos(bear));</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordtype">double</span> lon2 = lon1 + atan2(sin(bear) * sin(ad) * cos(lat1), cos(ad) - sin(lat1) * sin(lat2));</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a>(lat2 * rad_to_deg, lon2 * rad_to_deg);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;}</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="keywordtype">bool</span> OPMapGadgetWidget::getUAVPosition(<span class="keywordtype">double</span> &amp;latitude, <span class="keywordtype">double</span> &amp;longitude, <span class="keywordtype">double</span> &amp;altitude)</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;{</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordtype">double</span> NED[3];</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordtype">double</span> LLA[3];</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordtype">double</span> homeLLA[3];</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    Q_ASSERT(uavo_mgr != NULL);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    HomeLocation *homeLocation = HomeLocation::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    Q_ASSERT(homeLocation != NULL);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    HomeLocation::DataFields homeLocationData = homeLocation-&gt;getData();</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    homeLLA[0] = homeLocationData.Latitude / 1e7;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    homeLLA[1] = homeLocationData.Longitude / 1e7;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    homeLLA[2] = homeLocationData.Altitude;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    PositionActual *positionActual = PositionActual::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    Q_ASSERT(positionActual != NULL);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    PositionActual::DataFields positionActualData = positionActual-&gt;getData();</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    NED[0] = positionActualData.North;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    NED[1] = positionActualData.East;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    NED[2] = positionActualData.Down;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <a class="code" href="class_utils_1_1_coordinate_conversions.html">Utils::CoordinateConversions</a>().<a class="code" href="class_utils_1_1_coordinate_conversions.html#aa8dc93690408a9522db08f0a13ec12e1">NED2LLA_HomeLLA</a>(homeLLA, NED, LLA);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    latitude = LLA[0];</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    longitude = LLA[1];</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    altitude = LLA[2];</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">if</span> (latitude != latitude)</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        latitude = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &gt; 90)</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        latitude = 90;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (latitude &lt; -90)</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        latitude = -90;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (longitude != longitude)</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        longitude = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &gt; 180)</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        longitude = 180;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (longitude &lt; -180)</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        longitude = -180;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (altitude != altitude)</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        altitude = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;}</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="keywordtype">double</span> OPMapGadgetWidget::getUAV_Yaw()</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;{</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">if</span> (!uavo_mgr)</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <a class="code" href="class_u_a_v_object.html">UAVObject</a> *obj = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_u_a_v_data_object.html">UAVDataObject</a> *<span class="keyword">&gt;</span>(uavo_mgr-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gada44cdbfa55a281b78d41abcc6834dc0">getObject</a>(QString(<span class="stringliteral">&quot;AttitudeActual&quot;</span>)));</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="keywordtype">double</span> yaw = obj-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#ga0c8a0350ce2c49430124b59842fff131">getField</a>(QString(<span class="stringliteral">&quot;Yaw&quot;</span>))-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gac189fe8172d3c25a937b7d0106025dfe">getDouble</a>();</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">if</span> (yaw != yaw)</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        yaw = 0; <span class="comment">// nan detection</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">while</span> (yaw &lt; 0)</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        yaw += 360;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <span class="keywordflow">while</span> (yaw &gt;= 360)</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        yaw -= 360;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordflow">return</span> yaw;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;}</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::setMapFollowingMode()</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;{</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map)</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (!followUAVpositionAct-&gt;isChecked()) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetMapFollowType(UAVMapFollowType::None);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga084a3a1e21307e5e01004568b28fe69d">SetRotate</a>(0); <span class="comment">// reset map rotation to 0deg</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!followUAVheadingAct-&gt;isChecked()) {</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetMapFollowType(UAVMapFollowType::CenterMap);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga084a3a1e21307e5e01004568b28fe69d">SetRotate</a>(0); <span class="comment">// reset map rotation to 0deg</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetMapFollowType(UAVMapFollowType::CenterMap); <span class="comment">// the map library won&#39;t let you</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                                                                   <span class="comment">// reset the uav rotation if it&#39;s</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                                                                   <span class="comment">// already in rotate mode</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetUAVHeading(0); <span class="comment">// reset the UAV heading to 0deg</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">UAV</a>-&gt;SetMapFollowType(UAVMapFollowType::CenterAndRotateMap);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;}</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="comment">// update the HomeLocation UAV Object</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="keywordtype">bool</span> OPMapGadgetWidget::setHomeLocationObject()</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;{</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">if</span> (!uavo_util_mgr)</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordtype">double</span> LLA[3] = { m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>.<a class="code" href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">Lat</a>(), m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">coord</a>.<a class="code" href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">Lng</a>(),</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                      m_home_position.<a class="code" href="group___o_p_map_plugin.html#ga14ce78cb516fe7a0e7f20e423e92d538">altitude</a> };</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">return</span> (uavo_util_mgr-&gt;<a class="code" href="group___u_a_v_objects_plugin.html#gafcfa22c5812ed36ca7a2d6e442ba1710">setHomeLocation</a>(LLA, <span class="keyword">false</span>) &gt;= 0);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;}</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div>
<div class="line"><a name="l02245"></a><span class="lineno"><a class="line" href="group___o_p_map_plugin.html#gaada757b80b86bdf8e272319a861e2f73"> 2245</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___o_p_map_plugin.html#gaada757b80b86bdf8e272319a861e2f73">OPMapGadgetWidget::SetUavPic</a>(QString UAVPic)</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;{</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gabea2233ab3c4820a1ab8c85f8d53c255">SetUavPic</a>(UAVPic);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;}</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment">// *************************************************************************************</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_tbFind_clicked()</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;{</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    QPalette pal = m_widget-&gt;leFind-&gt;palette();</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    GeoCoderStatusCode::Types result =</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga84dad486217f752968b4f3e82824b64d">SetCurrentPositionByKeywords</a>(m_widget-&gt;leFind-&gt;text());</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="keywordflow">if</span> (result == core::GeoCoderStatusCode::OK) {</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        pal.setColor(m_widget-&gt;leFind-&gt;backgroundRole(), Qt::green);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        m_widget-&gt;leFind-&gt;setPalette(pal);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        m_map-&gt;<a class="code" href="group___t_l_map_widget.html#gad947abf0ada4a4ec667cbe73ca94e870">SetZoom</a>(12);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        pal.setColor(m_widget-&gt;leFind-&gt;backgroundRole(), Qt::red);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        m_widget-&gt;leFind-&gt;setPalette(pal);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    }</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;}</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onHomeDoubleClick(HomeItem *)</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;{</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keyword">new</span> <a class="code" href="classhome_editor.html">homeEditor</a>(m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">Home</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;}</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::onOverlayOpacityActGroup_triggered(QAction *action)</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;{</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordflow">if</span> (!m_widget || !m_map || !action)</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga1652258d99f7b01d65f0155f89a2f516">setOverlayOpacity</a>(action-&gt;data().toReal() / 100);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    emit <a class="code" href="group___o_p_map_plugin.html#gaa3099fde3c8867538207ed89067345eb">overlayOpacityChanged</a>(action-&gt;data().toReal() / 100);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;}</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::on_leFind_returnPressed()</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;{</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    on_tbFind_clicked();</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;}</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="keywordtype">void</span> OPMapGadgetWidget::updateWindspeed(<a class="code" href="class_u_a_v_object.html">UAVObject</a> *obj)</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;{</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    Q_UNUSED(obj);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    WindVelocityActual *windVelocityActual = WindVelocityActual::GetInstance(uavo_mgr);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    WindVelocityActual::DataFields windVelocityActualData;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    windVelocityActualData = windVelocityActual-&gt;getData();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordtype">double</span> windVelocity_NED[3] = { windVelocityActualData.North, windVelocityActualData.East,</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                                   windVelocityActualData.Down };</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    m_map-&gt;<a class="code" href="group___t_l_map_widget.html#ga50d0bbfd4900c5ee48a0f95be0b5f1a5">setWindVelocity</a>(windVelocity_NED);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;}</div>
<div class="ttc" id="group___o_p_map_plugin_html_gab4575b0db17580cc1a575aafa2fc5710"><div class="ttname"><a href="group___o_p_map_plugin.html#gab4575b0db17580cc1a575aafa2fc5710">OPMapGadgetWidget::contextMenuEvent</a></div><div class="ttdeci">void contextMenuEvent(QContextMenuEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00352">opmapgadgetwidget.cpp:352</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gab2895e09cf7115779c738cc43d815123"><div class="ttname"><a href="group___t_l_map_widget.html#gab2895e09cf7115779c738cc43d815123">mapcontrol::Helper::StrFromUAVTrailType</a></div><div class="ttdeci">static QString StrFromUAVTrailType(UAVTrailType::Types const &amp;value)</div><div class="ttdoc">Converts from Type to String. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00149">tlmapwidget.h:149</a></div></div>
<div class="ttc" id="_o_p_plots_8m_html_a2f07e0f444810cc4e54ee2be2ce0ac65"><div class="ttname"><a href="_o_p_plots_8m.html#a2f07e0f444810cc4e54ee2be2ce0ac65">s1</a></div><div class="ttdeci">s1</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00019">OPPlots.m:19</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gab81157189920148cb4178548aeef4b92"><div class="ttname"><a href="group___o_p_map_plugin.html#gab81157189920148cb4178548aeef4b92">OPMapGadgetWidget::goHome</a></div><div class="ttdeci">void goHome()</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00998">opmapgadgetwidget.cpp:998</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gad9c4816bc042918b192541019795b4aa"><div class="ttname"><a href="group___t_l_map_widget.html#gad9c4816bc042918b192541019795b4aa">mapcontrol::TLMapWidget::OnWayPointDoubleClicked</a></div><div class="ttdeci">void OnWayPointDoubleClicked(WayPointItem *waypoint)</div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga4d3d88bdaa968b964eae020e8ddac427"><div class="ttname"><a href="group___t_l_map_widget.html#ga4d3d88bdaa968b964eae020e8ddac427">mapcontrol::TLMapWidget::SetShowDiagnostics</a></div><div class="ttdeci">void SetShowDiagnostics(bool const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00080">tlmapwidget.cpp:80</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gad947abf0ada4a4ec667cbe73ca94e870"><div class="ttname"><a href="group___t_l_map_widget.html#gad947abf0ada4a4ec667cbe73ca94e870">mapcontrol::TLMapWidget::SetZoom</a></div><div class="ttdeci">void SetZoom(double const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00230">tlmapwidget.h:230</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga5978cd4c9b97aed76bc9d02c03b3eaf0"><div class="ttname"><a href="group___t_l_map_widget.html#ga5978cd4c9b97aed76bc9d02c03b3eaf0">mapcontrol::TLMapWidget::MinZoom</a></div><div class="ttdeci">int MinZoom</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00160">tlmapwidget.h:160</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga7c7775d0011bd9d0f8ca0219f48bc193"><div class="ttname"><a href="group___o_p_map_plugin.html#ga7c7775d0011bd9d0f8ca0219f48bc193">OPMapGadgetWidget::~OPMapGadgetWidget</a></div><div class="ttdeci">~OPMapGadgetWidget()</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00312">opmapgadgetwidget.cpp:312</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga44a752ab2b6f6b6212e39316b4050683"><div class="ttname"><a href="group___o_p_map_plugin.html#ga44a752ab2b6f6b6212e39316b4050683">OPMapGadgetWidget::setHomePosition</a></div><div class="ttdeci">void setHomePosition(QPointF pos)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01087">opmapgadgetwidget.cpp:1087</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga18190e2acae7a12ba6b598cf25244acf"><div class="ttname"><a href="group___t_l_map_widget.html#ga18190e2acae7a12ba6b598cf25244acf">mapcontrol::Configuration::DragButton</a></div><div class="ttdeci">Qt::MouseButton DragButton</div><div class="ttdoc">Button used for dragging. </div><div class="ttdef"><b>Definition:</b> <a href="configuration_8h_source.html#l00094">configuration.h:94</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gad5bce7bba1964ba7d8303ec72e107dd8"><div class="ttname"><a href="group___o_p_map_plugin.html#gad5bce7bba1964ba7d8303ec72e107dd8">OPMapGadgetWidget::setUseMemoryCache</a></div><div class="ttdeci">void setUseMemoryCache(bool useMemoryCache)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01164">opmapgadgetwidget.cpp:1164</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gae829b229cde8f7beebc9f3c0981f674c"><div class="ttname"><a href="group___t_l_map_widget.html#gae829b229cde8f7beebc9f3c0981f674c">mapcontrol::Helper::MapTypeFromString</a></div><div class="ttdeci">static MapType::Types MapTypeFromString(QString const &amp;value)</div><div class="ttdoc">Converts from String to Type. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00070">tlmapwidget.h:70</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gab99ed3caf53adec86782ef89c0e8f47a"><div class="ttname"><a href="group___o_p_map_plugin.html#gab99ed3caf53adec86782ef89c0e8f47a">OPMapGadgetWidget::setCacheLocation</a></div><div class="ttdeci">void setCacheLocation(QString cacheLocation)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01172">opmapgadgetwidget.cpp:1172</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gae64fbee5691d8097a981ef642e31d44c"><div class="ttname"><a href="group___t_l_map_widget.html#gae64fbee5691d8097a981ef642e31d44c">mapcontrol::TLMapWidget::GPS</a></div><div class="ttdeci">GPSItem * GPS</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00361">tlmapwidget.h:361</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga257d1baefc299cc15d2b81579f6e2279"><div class="ttname"><a href="group___t_l_map_widget.html#ga257d1baefc299cc15d2b81579f6e2279">mapcontrol::TLMapWidget::SetShowUAV</a></div><div class="ttdeci">void SetShowUAV(bool const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00179">tlmapwidget.cpp:179</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gaada757b80b86bdf8e272319a861e2f73"><div class="ttname"><a href="group___o_p_map_plugin.html#gaada757b80b86bdf8e272319a861e2f73">OPMapGadgetWidget::SetUavPic</a></div><div class="ttdeci">void SetUavPic(QString UAVPic)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l02245">opmapgadgetwidget.cpp:2245</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gacf27205703112c3235bb5186da81871b"><div class="ttname"><a href="group___t_l_map_widget.html#gacf27205703112c3235bb5186da81871b">mapcontrol::TLMapWidget::configuration</a></div><div class="ttdeci">Configuration * configuration</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00247">tlmapwidget.h:247</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga99c6255507a37fcf32e37fa7b6c13a31"><div class="ttname"><a href="group___t_l_map_widget.html#ga99c6255507a37fcf32e37fa7b6c13a31">mapcontrol::TLMapWidget::SetShowTileGridLines</a></div><div class="ttdeci">void SetShowTileGridLines(bool const &amp;value)</div><div class="ttdoc">Defines if map is to show gridlines. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00191">tlmapwidget.h:191</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gaeff7938fb4e8fca52ac6d4cce6b7d2e6"><div class="ttname"><a href="group___t_l_map_widget.html#gaeff7938fb4e8fca52ac6d4cce6b7d2e6">mapcontrol::TLMapWidget::SetMouseWheelZoomType</a></div><div class="ttdeci">void SetMouseWheelZoomType(internals::MouseWheelZoomType::Types const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00214">tlmapwidget.h:214</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga07f947001ed1fdf9d099f170e5116aa2"><div class="ttname"><a href="group___o_p_map_plugin.html#ga07f947001ed1fdf9d099f170e5116aa2">OPMapGadgetWidget::closeEvent</a></div><div class="ttdeci">void closeEvent(QCloseEvent *)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00562">opmapgadgetwidget.cpp:562</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga508cdf04246e0731ce2b58e5d72844d6"><div class="ttname"><a href="group___o_p_map_plugin.html#ga508cdf04246e0731ce2b58e5d72844d6">safe_area_radius_list</a></div><div class="ttdeci">const int safe_area_radius_list[]</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00076">opmapgadgetwidget.cpp:76</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gabf974444471378d1710f1faa6005ab8b"><div class="ttname"><a href="group___t_l_map_widget.html#gabf974444471378d1710f1faa6005ab8b">mapcontrol::TLMapWidget::MaxZoom</a></div><div class="ttdeci">int MaxZoom() const </div><div class="ttdoc">Returns the maximum zoom for the map. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00197">tlmapwidget.h:197</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gad9889968d9caeceb11bcf41bf7fcd49d"><div class="ttname"><a href="group___t_l_map_widget.html#gad9889968d9caeceb11bcf41bf7fcd49d">mapcontrol::TLMapWidget::SetUserImageVerticalScale</a></div><div class="ttdeci">void SetUserImageVerticalScale(double vScale)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00242">tlmapwidget.h:242</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gab677b7feb42a6edd833e63325d2a928b"><div class="ttname"><a href="group___o_p_map_plugin.html#gab677b7feb42a6edd833e63325d2a928b">OPMapGadgetWidget::setMapProvider</a></div><div class="ttdeci">void setMapProvider(QString provider)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01141">opmapgadgetwidget.cpp:1141</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga1a4eff9b0200201f53ab297430804bc8"><div class="ttname"><a href="group___t_l_map_widget.html#ga1a4eff9b0200201f53ab297430804bc8">mapcontrol::TLMapWidget::CurrentPosition</a></div><div class="ttdeci">internals::PointLatLng CurrentPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00224">tlmapwidget.h:224</a></div></div>
<div class="ttc" id="opmapgadgetwidget_8h_html"><div class="ttname"><a href="opmapgadgetwidget_8h.html">opmapgadgetwidget.h</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8"><div class="ttname"><a href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5afdcda6e378c8e0a54e928947a5fdede8">Normal_MapMode</a></div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8h_source.html#l00085">opmapgadgetwidget.h:85</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga41001a3e8948832246f19baf28c45e68"><div class="ttname"><a href="group___t_l_map_widget.html#ga41001a3e8948832246f19baf28c45e68">mapcontrol::Configuration::SetAccessMode</a></div><div class="ttdeci">void SetAccessMode(core::AccessMode::Types const &amp;type)</div><div class="ttdoc">Sets the access mode for the map (cache only, server and cache...) </div><div class="ttdef"><b>Definition:</b> <a href="configuration_8cpp_source.html#l00040">configuration.cpp:40</a></div></div>
<div class="ttc" id="class_extension_system_1_1_plugin_manager_html"><div class="ttname"><a href="class_extension_system_1_1_plugin_manager.html">ExtensionSystem::PluginManager</a></div><div class="ttdoc">Core plugin system that manages the plugins, their life cycle and their registered objects...</div><div class="ttdef"><b>Definition:</b> <a href="pluginmanager_8h_source.html#l00053">pluginmanager.h:53</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga76f119b43330e035e8a69704f9d3369e"><div class="ttname"><a href="group___t_l_map_widget.html#ga76f119b43330e035e8a69704f9d3369e">mapcontrol::TLMapWidget::SetFollowMouse</a></div><div class="ttdeci">void SetFollowMouse(bool const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00251">tlmapwidget.h:251</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gaa3099fde3c8867538207ed89067345eb"><div class="ttname"><a href="group___o_p_map_plugin.html#gaa3099fde3c8867538207ed89067345eb">OPMapGadgetWidget::overlayOpacityChanged</a></div><div class="ttdeci">void overlayOpacityChanged(qreal)</div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga2677250df0511efbc1955d7a7af5e08f"><div class="ttname"><a href="group___o_p_map_plugin.html#ga2677250df0511efbc1955d7a7af5e08f">OPMapGadgetWidget::setGeoCodingLanguage</a></div><div class="ttdeci">void setGeoCodingLanguage(QString language)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01134">opmapgadgetwidget.cpp:1134</a></div></div>
<div class="ttc" id="_o_p_plots_8m_html_abb3119256791e93ec6e33c8eee7035d6"><div class="ttname"><a href="_o_p_plots_8m.html#abb3119256791e93ec6e33c8eee7035d6">NED</a></div><div class="ttdeci">axis equal end function NED</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00063">OPPlots.m:63</a></div></div>
<div class="ttc" id="class_utils_1_1_coordinate_conversions_html"><div class="ttname"><a href="class_utils_1_1_coordinate_conversions.html">Utils::CoordinateConversions</a></div><div class="ttdef"><b>Definition:</b> <a href="coordinateconversions_8h_source.html#l00036">coordinateconversions.h:36</a></div></div>
<div class="ttc" id="class_utils_1_1_coordinate_conversions_html_a1dc099f580d3a37ef39bb155cc7e4e62"><div class="ttname"><a href="class_utils_1_1_coordinate_conversions.html#a1dc099f580d3a37ef39bb155cc7e4e62">Utils::CoordinateConversions::LLA2NED_HomeLLA</a></div><div class="ttdeci">void LLA2NED_HomeLLA(double LLA[3], double homeLLA[3], double NED[3])</div><div class="ttdef"><b>Definition:</b> <a href="coordinateconversions_8cpp_source.html#l00213">coordinateconversions.cpp:213</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gaa2731b7fb965c417860b30ac354437ca"><div class="ttname"><a href="group___o_p_map_plugin.html#gaa2731b7fb965c417860b30ac354437ca">OPMapGadgetWidget::setZoom</a></div><div class="ttdeci">void setZoom(int zoom)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01062">opmapgadgetwidget.cpp:1062</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga735443d74919b6c74f91fbf1f0576931"><div class="ttname"><a href="group___t_l_map_widget.html#ga735443d74919b6c74f91fbf1f0576931">mapcontrol::Configuration::SetCacheLocation</a></div><div class="ttdeci">void SetCacheLocation(QString const &amp;dir)</div><div class="ttdoc">Sets the location for the SQLite Database used for caching and the geocoding cache files...</div><div class="ttdef"><b>Definition:</b> <a href="configuration_8h_source.html#l00156">configuration.h:156</a></div></div>
<div class="ttc" id="_o_p_plots_8m_html_a6f6ccfcf58b31cb6412107d9d5281426"><div class="ttname"><a href="_o_p_plots_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a></div><div class="ttdeci">for i</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00140">OPPlots.m:140</a></div></div>
<div class="ttc" id="class_telemetry_manager_html"><div class="ttname"><a href="class_telemetry_manager.html">TelemetryManager</a></div><div class="ttdef"><b>Definition:</b> <a href="telemetrymanager_8h_source.html#l00041">telemetrymanager.h:41</a></div></div>
<div class="ttc" id="classmapcontrol_1_1_home_item_html"><div class="ttname"><a href="classmapcontrol_1_1_home_item.html">mapcontrol::HomeItem</a></div><div class="ttdef"><b>Definition:</b> <a href="homeitem_8h_source.html#l00037">homeitem.h:37</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga12a8cff4f2e7d33e5d9a7e1a2ef9a3e8"><div class="ttname"><a href="group___t_l_map_widget.html#ga12a8cff4f2e7d33e5d9a7e1a2ef9a3e8">mapcontrol::TLMapWidget::SetShowHome</a></div><div class="ttdeci">void SetShowHome(bool const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00200">tlmapwidget.cpp:200</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gaa318c08305493bb3780c5008675f5431"><div class="ttname"><a href="group___t_l_map_widget.html#gaa318c08305493bb3780c5008675f5431">mapcontrol::TLMapWidget::zoomChanged</a></div><div class="ttdeci">void zoomChanged(double zoomt, double zoom, double zoomd)</div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga2c031ecf6fbe43cef7fd47948da11c85"><div class="ttname"><a href="group___t_l_map_widget.html#ga2c031ecf6fbe43cef7fd47948da11c85">mapcontrol::TLMapWidget::magicWPCreate</a></div><div class="ttdeci">WayPointItem * magicWPCreate()</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00282">tlmapwidget.cpp:282</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga30af002abadbc8e420a9fe75f5042765"><div class="ttname"><a href="group___o_p_map_plugin.html#ga30af002abadbc8e420a9fe75f5042765">OPMapGadgetWidget::setShowTileGridLines</a></div><div class="ttdeci">void setShowTileGridLines(bool showTileGridLines)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01156">opmapgadgetwidget.cpp:1156</a></div></div>
<div class="ttc" id="group___u_a_v_objects_plugin_html_ga9aac3ae5395f63249cd821e0e5be5bf2"><div class="ttname"><a href="group___u_a_v_objects_plugin.html#ga9aac3ae5395f63249cd821e0e5be5bf2">UAVObject::objectUpdated</a></div><div class="ttdeci">void objectUpdated(UAVObject *obj)</div><div class="ttdoc">Signal sent whenever any field of the object is updated. </div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gab57277e52834ff73fe190391e3b2aa40"><div class="ttname"><a href="group___o_p_map_plugin.html#gab57277e52834ff73fe190391e3b2aa40">OPMapGadgetWidget::setUserImageHorizontalScale</a></div><div class="ttdeci">void setUserImageHorizontalScale(double userImageHorizontalScale)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01249">opmapgadgetwidget.cpp:1249</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga1a7989d295311b564112f0adc0e9158d"><div class="ttname"><a href="group___t_l_map_widget.html#ga1a7989d295311b564112f0adc0e9158d">mapcontrol::Helper::LanguageTypeFromString</a></div><div class="ttdeci">static core::LanguageType::Types LanguageTypeFromString(QString const &amp;value)</div><div class="ttdoc">Converts from String to Type. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00108">tlmapwidget.h:108</a></div></div>
<div class="ttc" id="class_waypoint_dialog_html"><div class="ttname"><a href="class_waypoint_dialog.html">WaypointDialog</a></div><div class="ttdoc">The WaypointDialog class creates a dialog for editing the properties of a single waypoint. </div><div class="ttdef"><b>Definition:</b> <a href="waypointdialog_8h_source.html#l00042">waypointdialog.h:42</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga50d0bbfd4900c5ee48a0f95be0b5f1a5"><div class="ttname"><a href="group___t_l_map_widget.html#ga50d0bbfd4900c5ee48a0f95be0b5f1a5">mapcontrol::TLMapWidget::setWindVelocity</a></div><div class="ttdeci">void setWindVelocity(double windVelocity_NED[3])</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00609">tlmapwidget.cpp:609</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga10cb3e7dfbac87e40e00c1a8c76c16e5"><div class="ttname"><a href="group___o_p_map_plugin.html#ga10cb3e7dfbac87e40e00c1a8c76c16e5">opMapModeType</a></div><div class="ttdeci">opMapModeType</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8h_source.html#l00085">opmapgadgetwidget.h:85</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gad00a3b7e900f23b72008b444a00b70fe"><div class="ttname"><a href="group___t_l_map_widget.html#gad00a3b7e900f23b72008b444a00b70fe">mapcontrol::TLMapWidget::SetShowWindCompass</a></div><div class="ttdeci">void SetShowWindCompass(bool const &amp;value)</div><div class="ttdoc">TLMapWidget::SetShowWindCompass Shows the compass rose on the map. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00576">tlmapwidget.cpp:576</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga5b5f5c5f153f77ca185ae7effec0a23a"><div class="ttname"><a href="group___t_l_map_widget.html#ga5b5f5c5f153f77ca185ae7effec0a23a">mapcontrol::TLMapWidget::OnTileLoadStart</a></div><div class="ttdeci">void OnTileLoadStart()</div><div class="ttdoc">Fires when tiles loading begins. </div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga865f22d42c30a2446539f03df486e64e"><div class="ttname"><a href="group___o_p_map_plugin.html#ga865f22d42c30a2446539f03df486e64e">OPMapGadgetWidget::setMaxUpdateRate</a></div><div class="ttdeci">void setMaxUpdateRate(int update_rate)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01039">opmapgadgetwidget.cpp:1039</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga2a02db7101a66a3c2e5f536e60b38423"><div class="ttname"><a href="group___t_l_map_widget.html#ga2a02db7101a66a3c2e5f536e60b38423">internals::PointLatLng::Lng</a></div><div class="ttdeci">double Lng() const </div><div class="ttdef"><b>Definition:</b> <a href="pointlatlng_8h_source.html#l00076">pointlatlng.h:76</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gacf58e663626e5a88876d68937505dc64"><div class="ttname"><a href="group___t_l_map_widget.html#gacf58e663626e5a88876d68937505dc64">internals::PointLatLng::Lat</a></div><div class="ttdeci">double Lat() const </div><div class="ttdef"><b>Definition:</b> <a href="pointlatlng_8h_source.html#l00064">pointlatlng.h:64</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gaa3e918b3f99b9849141c32de4da6291b"><div class="ttname"><a href="group___t_l_map_widget.html#gaa3e918b3f99b9849141c32de4da6291b">mapcontrol::TLMapWidget::currentMousePosition</a></div><div class="ttdeci">internals::PointLatLng currentMousePosition()</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00258">tlmapwidget.cpp:258</a></div></div>
<div class="ttc" id="worldmagmodel_8h_html"><div class="ttname"><a href="worldmagmodel_8h.html">worldmagmodel.h</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gabea2233ab3c4820a1ab8c85f8d53c255"><div class="ttname"><a href="group___t_l_map_widget.html#gabea2233ab3c4820a1ab8c85f8d53c255">mapcontrol::TLMapWidget::SetUavPic</a></div><div class="ttdeci">void SetUavPic(QString UAVPic)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00117">tlmapwidget.cpp:117</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga1c60e950a733d8e38796cfe092fb4154"><div class="ttname"><a href="group___t_l_map_widget.html#ga1c60e950a733d8e38796cfe092fb4154">mapcontrol::HomeItem::RefreshPos</a></div><div class="ttdeci">void RefreshPos()</div><div class="ttdef"><b>Definition:</b> <a href="homeitem_8cpp_source.html#l00099">homeitem.cpp:99</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gac57d3f450054ad704111e819accef082"><div class="ttname"><a href="group___t_l_map_widget.html#gac57d3f450054ad704111e819accef082">mapcontrol::TLMapWidget::SetMapType</a></div><div class="ttdeci">void SetMapType(MapType::Types const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00240">tlmapwidget.h:240</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gac80e6f6d8d21aaf3b29c72be6455c88a"><div class="ttname"><a href="group___t_l_map_widget.html#gac80e6f6d8d21aaf3b29c72be6455c88a">mapcontrol::TLMapWidget::WPPresent</a></div><div class="ttdeci">bool WPPresent()</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00464">tlmapwidget.cpp:464</a></div></div>
<div class="ttc" id="class_model_map_proxy_html"><div class="ttname"><a href="class_model_map_proxy.html">ModelMapProxy</a></div><div class="ttdoc">The ModelMapProxy class maps from the FlightDataModel to the OPMap and provides synchronization, both when the model changes updating the UI and if it is modified on the UI propagating changes to the model. </div><div class="ttdef"><b>Definition:</b> <a href="modelmapproxy_8h_source.html#l00051">modelmapproxy.h:51</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gae67526d9495209b93360c1fae84e3d47"><div class="ttname"><a href="group___o_p_map_plugin.html#gae67526d9495209b93360c1fae84e3d47">OPMapGadgetWidget::homePositionUpdated</a></div><div class="ttdeci">void homePositionUpdated(UAVObject *)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00912">opmapgadgetwidget.cpp:912</a></div></div>
<div class="ttc" id="telemetrymanager_8h_html"><div class="ttname"><a href="telemetrymanager_8h.html">telemetrymanager.h</a></div></div>
<div class="ttc" id="class_u_a_v_object_util_manager_html"><div class="ttname"><a href="class_u_a_v_object_util_manager.html">UAVObjectUtilManager</a></div><div class="ttdef"><b>Definition:</b> <a href="uavobjectutilmanager_8h_source.html#l00049">uavobjectutilmanager.h:49</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga084ae5afbd9e82cf1ea496e915bbbbde"><div class="ttname"><a href="group___t_l_map_widget.html#ga084ae5afbd9e82cf1ea496e915bbbbde">mapcontrol::TLMapWidget::RipMap</a></div><div class="ttdeci">void RipMap()</div><div class="ttdoc">Ripps the current selection to the DB. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00640">tlmapwidget.cpp:640</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gab9a1ad0c6a406ed144ba3ec120d94d28"><div class="ttname"><a href="group___o_p_map_plugin.html#gab9a1ad0c6a406ed144ba3ec120d94d28">OPMapGadgetWidget::setUserImageVerticalScale</a></div><div class="ttdeci">void setUserImageVerticalScale(double userImageVerticalScale)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01253">opmapgadgetwidget.cpp:1253</a></div></div>
<div class="ttc" id="group___u_a_v_objects_plugin_html_ga0c8a0350ce2c49430124b59842fff131"><div class="ttname"><a href="group___u_a_v_objects_plugin.html#ga0c8a0350ce2c49430124b59842fff131">UAVObject::getField</a></div><div class="ttdeci">UAVObjectField * getField(const QString &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="uavobject_8cpp_source.html#l00254">uavobject.cpp:254</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga29b42ec96098c35b537e64d33d6c41b5"><div class="ttname"><a href="group___t_l_map_widget.html#ga29b42ec96098c35b537e64d33d6c41b5">mapcontrol::Configuration::SetLanguage</a></div><div class="ttdeci">void SetLanguage(core::LanguageType::Types const &amp;type)</div><div class="ttdoc">Sets the language used for geocaching. </div><div class="ttdef"><b>Definition:</b> <a href="configuration_8cpp_source.html#l00048">configuration.cpp:48</a></div></div>
<div class="ttc" id="classmapcontrol_1_1_t_l_map_widget_html"><div class="ttname"><a href="classmapcontrol_1_1_t_l_map_widget.html">mapcontrol::TLMapWidget</a></div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00156">tlmapwidget.h:156</a></div></div>
<div class="ttc" id="structinternals_1_1_point_lat_lng_html"><div class="ttname"><a href="structinternals_1_1_point_lat_lng.html">internals::PointLatLng</a></div><div class="ttdef"><b>Definition:</b> <a href="pointlatlng_8h_source.html#l00036">pointlatlng.h:36</a></div></div>
<div class="ttc" id="class_flight_data_model_html"><div class="ttname"><a href="class_flight_data_model.html">FlightDataModel</a></div><div class="ttdef"><b>Definition:</b> <a href="flightdatamodel_8h_source.html#l00049">flightdatamodel.h:49</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga4c9793fea42fd12ba9f7f27c25f98523"><div class="ttname"><a href="group___o_p_map_plugin.html#ga4c9793fea42fd12ba9f7f27c25f98523">OPMapGadgetWidget::setPosition</a></div><div class="ttdeci">void setPosition(QPointF pos)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01111">opmapgadgetwidget.cpp:1111</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga1e2bbe9f774b6c505ba7645a868f1c52"><div class="ttname"><a href="group___o_p_map_plugin.html#ga1e2bbe9f774b6c505ba7645a868f1c52">OPMapGadgetWidget::defaultLocationAndZoomChanged</a></div><div class="ttdeci">void defaultLocationAndZoomChanged(double lng, double lat, double zoom)</div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga7d642e3ea7bf1e5cd0cc8be6dafc7ba8"><div class="ttname"><a href="group___o_p_map_plugin.html#ga7d642e3ea7bf1e5cd0cc8be6dafc7ba8">OPMapGadgetWidget::setOverlayOpacity</a></div><div class="ttdeci">void setOverlayOpacity(qreal value)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01079">opmapgadgetwidget.cpp:1079</a></div></div>
<div class="ttc" id="_o_p_plots_8m_html_a2e63e71737e8b6802b81f6a7c5ca6a0a"><div class="ttname"><a href="_o_p_plots_8m.html#a2e63e71737e8b6802b81f6a7c5ca6a0a">s2</a></div><div class="ttdeci">s2</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00020">OPPlots.m:20</a></div></div>
<div class="ttc" id="class_utils_1_1_coordinate_conversions_html_aa8dc93690408a9522db08f0a13ec12e1"><div class="ttname"><a href="class_utils_1_1_coordinate_conversions.html#aa8dc93690408a9522db08f0a13ec12e1">Utils::CoordinateConversions::NED2LLA_HomeLLA</a></div><div class="ttdeci">int NED2LLA_HomeLLA(double homeLLA[3], double NED[3], double LLA[3])</div><div class="ttdef"><b>Definition:</b> <a href="coordinateconversions_8cpp_source.html#l00163">coordinateconversions.cpp:163</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga14ce78cb516fe7a0e7f20e423e92d538"><div class="ttname"><a href="group___o_p_map_plugin.html#ga14ce78cb516fe7a0e7f20e423e92d538">t_home::altitude</a></div><div class="ttdeci">double altitude</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8h_source.html#l00079">opmapgadgetwidget.h:79</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga800ba0d0ba832cda15296dcc2bad12c5"><div class="ttname"><a href="group___t_l_map_widget.html#ga800ba0d0ba832cda15296dcc2bad12c5">mapcontrol::Helper::AccessModeFromString</a></div><div class="ttdeci">static core::AccessMode::Types AccessModeFromString(QString const &amp;value)</div><div class="ttdoc">Converts from String to Type. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00120">tlmapwidget.h:120</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gad7068b438d89bb8f2a9e31ef5ca2d708"><div class="ttname"><a href="group___o_p_map_plugin.html#gad7068b438d89bb8f2a9e31ef5ca2d708">OPMapGadgetWidget::onTelemetryConnect</a></div><div class="ttdeci">void onTelemetryConnect()</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00881">opmapgadgetwidget.cpp:881</a></div></div>
<div class="ttc" id="class_path_planner_gadget_widget_html"><div class="ttname"><a href="class_path_planner_gadget_widget.html">PathPlannerGadgetWidget</a></div><div class="ttdef"><b>Definition:</b> <a href="pathplannergadgetwidget_8h_source.html#l00037">pathplannergadgetwidget.h:37</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gaa6af0c32f6fea05e734c38f361716a98"><div class="ttname"><a href="group___t_l_map_widget.html#gaa6af0c32f6fea05e734c38f361716a98">mapcontrol::TLMapWidget::GetMouseWheelZoomType</a></div><div class="ttdeci">internals::MouseWheelZoomType::Types GetMouseWheelZoomType()</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00213">tlmapwidget.h:213</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga0f5ee93a82e5aef8c8924c276b23df5f"><div class="ttname"><a href="group___t_l_map_widget.html#ga0f5ee93a82e5aef8c8924c276b23df5f">mapcontrol::TLMapWidget::SetUserImageLocation</a></div><div class="ttdeci">void SetUserImageLocation(QString location)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00243">tlmapwidget.h:243</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga924197d237c4236b05e045cf5b299e51"><div class="ttname"><a href="group___o_p_map_plugin.html#ga924197d237c4236b05e045cf5b299e51">max_update_rate_list</a></div><div class="ttdeci">const int max_update_rate_list[]</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00082">opmapgadgetwidget.cpp:82</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga42a1c15ba77f6bec7efc5e15cc2d7a6b"><div class="ttname"><a href="group___o_p_map_plugin.html#ga42a1c15ba77f6bec7efc5e15cc2d7a6b">uav_trail_time_list</a></div><div class="ttdeci">const int uav_trail_time_list[]</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00078">opmapgadgetwidget.cpp:78</a></div></div>
<div class="ttc" id="classhome_editor_html"><div class="ttname"><a href="classhome_editor.html">homeEditor</a></div><div class="ttdef"><b>Definition:</b> <a href="homeeditor_8h_source.html#l00039">homeeditor.h:39</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga084a3a1e21307e5e01004568b28fe69d"><div class="ttname"><a href="group___t_l_map_widget.html#ga084a3a1e21307e5e01004568b28fe69d">mapcontrol::TLMapWidget::SetRotate</a></div><div class="ttdeci">void SetRotate(qreal const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00629">tlmapwidget.cpp:629</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gafe9c5443c9ed4947f2072bf8feba9673"><div class="ttname"><a href="group___o_p_map_plugin.html#gafe9c5443c9ed4947f2072bf8feba9673">OPMapGadgetWidget::setMapMode</a></div><div class="ttdeci">void setMapMode(opMapModeType mode)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01192">opmapgadgetwidget.cpp:1192</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga455a2f3a76989818b68999597380186a"><div class="ttname"><a href="group___t_l_map_widget.html#ga455a2f3a76989818b68999597380186a">mapcontrol::TLMapWidget::OnTilesStillToLoad</a></div><div class="ttdeci">void OnTilesStillToLoad(int number)</div><div class="ttdoc">Fires when the number of tiles in the load queue changes. </div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga09a4876b008985c01beda818f860830b"><div class="ttname"><a href="group___t_l_map_widget.html#ga09a4876b008985c01beda818f860830b">mapcontrol::Helper::UAVTrailTypeFromString</a></div><div class="ttdeci">static UAVTrailType::Types UAVTrailTypeFromString(QString const &amp;value)</div><div class="ttdoc">Converts from String to Type. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00145">tlmapwidget.h:145</a></div></div>
<div class="ttc" id="class_u_a_v_data_object_html"><div class="ttname"><a href="class_u_a_v_data_object.html">UAVDataObject</a></div><div class="ttdef"><b>Definition:</b> <a href="uavdataobject_8h_source.html#l00037">uavdataobject.h:37</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga9da57877a0f3627de27deefc94274f40"><div class="ttname"><a href="group___t_l_map_widget.html#ga9da57877a0f3627de27deefc94274f40">mapcontrol::TLMapWidget::Home</a></div><div class="ttdeci">HomeItem * Home</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00362">tlmapwidget.h:362</a></div></div>
<div class="ttc" id="classmapcontrol_1_1_way_point_item_html"><div class="ttname"><a href="classmapcontrol_1_1_way_point_item.html">mapcontrol::WayPointItem</a></div><div class="ttdoc">A QGraphicsItem representing a WayPoint. </div><div class="ttdef"><b>Definition:</b> <a href="waypointitem_8h_source.html#l00041">waypointitem.h:41</a></div></div>
<div class="ttc" id="class_u_a_v_object_manager_html"><div class="ttname"><a href="class_u_a_v_object_manager.html">UAVObjectManager</a></div><div class="ttdef"><b>Definition:</b> <a href="uavobjectmanager_8h_source.html#l00046">uavobjectmanager.h:46</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gad33e776681a2d3d4d44bef508d231336"><div class="ttname"><a href="group___t_l_map_widget.html#gad33e776681a2d3d4d44bef508d231336">mapcontrol::Helper::UAVTrailTypes</a></div><div class="ttdeci">static QStringList UAVTrailTypes()</div><div class="ttdoc">Returns QStringList with string representing all the enum values. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00153">tlmapwidget.h:153</a></div></div>
<div class="ttc" id="group___u_a_v_talk_plugin_html_ga54bec8ecfe469710c7261f567e76c5f0"><div class="ttname"><a href="group___u_a_v_talk_plugin.html#ga54bec8ecfe469710c7261f567e76c5f0">TelemetryManager::connected</a></div><div class="ttdeci">void connected()</div></div>
<div class="ttc" id="class_u_a_v_object_html"><div class="ttname"><a href="class_u_a_v_object.html">UAVObject</a></div><div class="ttdef"><b>Definition:</b> <a href="uavobject_8h_source.html#l00065">uavobject.h:65</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga84dad486217f752968b4f3e82824b64d"><div class="ttname"><a href="group___t_l_map_widget.html#ga84dad486217f752968b4f3e82824b64d">mapcontrol::TLMapWidget::SetCurrentPositionByKeywords</a></div><div class="ttdeci">GeoCoderStatusCode::Types SetCurrentPositionByKeywords(QString const &amp;keys)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00237">tlmapwidget.h:237</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga5ee4bbe1d2a34b24d344cec99cf50222"><div class="ttname"><a href="group___t_l_map_widget.html#ga5ee4bbe1d2a34b24d344cec99cf50222">mapcontrol::TLMapWidget::SetCurrentPosition</a></div><div class="ttdeci">void SetCurrentPosition(internals::PointLatLng const &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00225">tlmapwidget.h:225</a></div></div>
<div class="ttc" id="group___u_a_v_talk_plugin_html_ga61e671949cc2403327617d9c9a372a76"><div class="ttname"><a href="group___u_a_v_talk_plugin.html#ga61e671949cc2403327617d9c9a372a76">TelemetryManager::disconnected</a></div><div class="ttdeci">void disconnected()</div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga4cc9a1ca8d219f1aa6d823fab6080f02"><div class="ttname"><a href="group___o_p_map_plugin.html#ga4cc9a1ca8d219f1aa6d823fab6080f02">t_home::locked</a></div><div class="ttdeci">bool locked</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8h_source.html#l00080">opmapgadgetwidget.h:80</a></div></div>
<div class="ttc" id="group___u_a_v_objects_plugin_html_gafcfa22c5812ed36ca7a2d6e442ba1710"><div class="ttname"><a href="group___u_a_v_objects_plugin.html#gafcfa22c5812ed36ca7a2d6e442ba1710">UAVObjectUtilManager::setHomeLocation</a></div><div class="ttdeci">int setHomeLocation(double LLA[3], bool save_to_sdcard)</div><div class="ttdef"><b>Definition:</b> <a href="uavobjectutilmanager_8cpp_source.html#l00559">uavobjectutilmanager.cpp:559</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga323ea9b6071044204ce278734ef855fb"><div class="ttname"><a href="group___t_l_map_widget.html#ga323ea9b6071044204ce278734ef855fb">mapcontrol::Configuration::SetUseMemoryCache</a></div><div class="ttdeci">void SetUseMemoryCache(bool const &amp;value)</div><div class="ttdoc">Used to allow disallow use of memory caching. </div><div class="ttdef"><b>Definition:</b> <a href="configuration_8cpp_source.html#l00056">configuration.cpp:56</a></div></div>
<div class="ttc" id="homelocationutil_8h_html"><div class="ttname"><a href="homelocationutil_8h.html">homelocationutil.h</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga9150c5038d73a6fa54ec7a91220c1c06"><div class="ttname"><a href="group___t_l_map_widget.html#ga9150c5038d73a6fa54ec7a91220c1c06">mapcontrol::TLMapWidget::ZoomTotal</a></div><div class="ttdeci">double ZoomTotal()</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00229">tlmapwidget.h:229</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga8974b27951316cb97856a384f680d85e"><div class="ttname"><a href="group___o_p_map_plugin.html#ga8974b27951316cb97856a384f680d85e">uav_trail_distance_list</a></div><div class="ttdeci">const int uav_trail_distance_list[]</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00080">opmapgadgetwidget.cpp:80</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga6c4641bff16c343b2edf9e0e88f6bb47"><div class="ttname"><a href="group___t_l_map_widget.html#ga6c4641bff16c343b2edf9e0e88f6bb47">mapcontrol::TLMapWidget::OnCurrentPositionChanged</a></div><div class="ttdeci">void OnCurrentPositionChanged(internals::PointLatLng point)</div><div class="ttdoc">Fires when map position changes. </div></div>
<div class="ttc" id="_o_p_plots_8m_html_a011779f2c5f2a3505308bb1369101a54"><div class="ttname"><a href="_o_p_plots_8m.html#a011779f2c5f2a3505308bb1369101a54">LLA</a></div><div class="ttdeci">LLA</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00034">OPPlots.m:34</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga6324b0912396582281b54bc6d5a6f38a"><div class="ttname"><a href="group___o_p_map_plugin.html#ga6324b0912396582281b54bc6d5a6f38a">t_home::coord</a></div><div class="ttdeci">internals::PointLatLng coord</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8h_source.html#l00078">opmapgadgetwidget.h:78</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gabecf05784a727cc1e50b6d05e65ec6bc"><div class="ttname"><a href="group___t_l_map_widget.html#gabecf05784a727cc1e50b6d05e65ec6bc">mapcontrol::TLMapWidget::UAV</a></div><div class="ttdeci">UAVItem * UAV</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00360">tlmapwidget.h:360</a></div></div>
<div class="ttc" id="_o_p_plots_8m_html_a9336ebf25087d91c818ee6e9ec29f8c1"><div class="ttname"><a href="_o_p_plots_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00100">OPPlots.m:100</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gaea4b659a9476e351373fc6df96026327"><div class="ttname"><a href="group___o_p_map_plugin.html#gaea4b659a9476e351373fc6df96026327">OPMapGadgetWidget::setHome</a></div><div class="ttdeci">void setHome(QPointF pos)</div><div class="ttdoc">public functions </div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00930">opmapgadgetwidget.cpp:930</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gaa5f3a1462fd4e560fab7cef8f4d1d3e8"><div class="ttname"><a href="group___t_l_map_widget.html#gaa5f3a1462fd4e560fab7cef8f4d1d3e8">mapcontrol::TLMapWidget::SetUserImageHorizontalScale</a></div><div class="ttdeci">void SetUserImageHorizontalScale(double hScale)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00241">tlmapwidget.h:241</a></div></div>
<div class="ttc" id="group___u_a_v_objects_plugin_html_gada44cdbfa55a281b78d41abcc6834dc0"><div class="ttname"><a href="group___u_a_v_objects_plugin.html#gada44cdbfa55a281b78d41abcc6834dc0">UAVObjectManager::getObject</a></div><div class="ttdeci">UAVObject * getObject(const QString &amp;name, quint32 instId=0)</div><div class="ttdef"><b>Definition:</b> <a href="uavobjectmanager_8cpp_source.html#l00215">uavobjectmanager.cpp:215</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga4969d08e38f36b77320b0fd4d2c112ac"><div class="ttname"><a href="group___t_l_map_widget.html#ga4969d08e38f36b77320b0fd4d2c112ac">mapcontrol::HomeItem::homedoubleclick</a></div><div class="ttdeci">void homedoubleclick(HomeItem *homeLocation)</div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga1652258d99f7b01d65f0155f89a2f516"><div class="ttname"><a href="group___t_l_map_widget.html#ga1652258d99f7b01d65f0155f89a2f516">mapcontrol::TLMapWidget::setOverlayOpacity</a></div><div class="ttdeci">void setOverlayOpacity(qreal value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00623">tlmapwidget.cpp:623</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_gabde71a71ade79269ae3039804578a028"><div class="ttname"><a href="group___t_l_map_widget.html#gabde71a71ade79269ae3039804578a028">mapcontrol::TLMapWidget::OnTileLoadComplete</a></div><div class="ttdeci">void OnTileLoadComplete()</div><div class="ttdoc">Fires when there are no more tiles to load. </div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga7afda7ed24be3606e25a6005fcc881da"><div class="ttname"><a href="group___o_p_map_plugin.html#ga7afda7ed24be3606e25a6005fcc881da">OPMapGadgetWidget::setUserImageLocation</a></div><div class="ttdeci">void setUserImageLocation(QString userImageLocation)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01245">opmapgadgetwidget.cpp:1245</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga723918dc2ebb03ce17180228e4233d06"><div class="ttname"><a href="group___o_p_map_plugin.html#ga723918dc2ebb03ce17180228e4233d06">OPMapGadgetWidget::onTelemetryDisconnect</a></div><div class="ttdeci">void onTelemetryDisconnect()</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00906">opmapgadgetwidget.cpp:906</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga5364db038789e0e4ad94ae0606391100"><div class="ttname"><a href="group___o_p_map_plugin.html#ga5364db038789e0e4ad94ae0606391100">OPMapGadgetWidget::resizeEvent</a></div><div class="ttdeci">void resizeEvent(QResizeEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00332">opmapgadgetwidget.cpp:332</a></div></div>
<div class="ttc" id="uavobject_8h_html"><div class="ttname"><a href="uavobject_8h.html">uavobject.h</a></div></div>
<div class="ttc" id="group___u_a_v_objects_plugin_html_gac189fe8172d3c25a937b7d0106025dfe"><div class="ttname"><a href="group___u_a_v_objects_plugin.html#gac189fe8172d3c25a937b7d0106025dfe">UAVObjectField::getDouble</a></div><div class="ttdeci">double getDouble(quint32 index=0)</div><div class="ttdef"><b>Definition:</b> <a href="uavobjectfield_8cpp_source.html#l01105">uavobjectfield.cpp:1105</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825"><div class="ttname"><a href="group___o_p_map_plugin.html#gga10cb3e7dfbac87e40e00c1a8c76c16e5abdc1c0b7296fb52149bbda0739034825">MagicWaypoint_MapMode</a></div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8h_source.html#l00085">opmapgadgetwidget.h:85</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga7fe62a2d1a8b920f3e44900dee8d9d5a"><div class="ttname"><a href="group___o_p_map_plugin.html#ga7fe62a2d1a8b920f3e44900dee8d9d5a">OPMapGadgetWidget::OPMapGadgetWidget</a></div><div class="ttdeci">OPMapGadgetWidget(QWidget *parent=0)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00091">opmapgadgetwidget.cpp:91</a></div></div>
<div class="ttc" id="uavobjecttemplate_8m_html_a3691308f2a4c2f6983f2880d32e29c84"><div class="ttname"><a href="uavobjecttemplate_8m.html#a3691308f2a4c2f6983f2880d32e29c84">s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition:</b> <a href="uavobjecttemplate_8m_source.html#l00258">uavobjecttemplate.m:258</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_ga5187482d55aa0753cb6395bef5c402dd"><div class="ttname"><a href="group___o_p_map_plugin.html#ga5187482d55aa0753cb6395bef5c402dd">OPMapGadgetWidget::setAccessMode</a></div><div class="ttdeci">void setAccessMode(QString accessMode)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l01148">opmapgadgetwidget.cpp:1148</a></div></div>
<div class="ttc" id="group___u_a_v_objects_plugin_html_gac5e7b38a473a50f709fb6312ef511e59"><div class="ttname"><a href="group___u_a_v_objects_plugin.html#gac5e7b38a473a50f709fb6312ef511e59">UAVObjectUtilManager::getHomeLocation</a></div><div class="ttdeci">int getHomeLocation(bool &amp;set, double LLA[3])</div><div class="ttdef"><b>Definition:</b> <a href="uavobjectutilmanager_8cpp_source.html#l00594">uavobjectutilmanager.cpp:594</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga912690a1920ab0638d095bea9b7d6362"><div class="ttname"><a href="group___t_l_map_widget.html#ga912690a1920ab0638d095bea9b7d6362">mapcontrol::TLMapWidget::ReloadMap</a></div><div class="ttdeci">void ReloadMap()</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00235">tlmapwidget.h:235</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga857fbd8ef743957c9b5c102e2cb0fbc9"><div class="ttname"><a href="group___t_l_map_widget.html#ga857fbd8ef743957c9b5c102e2cb0fbc9">mapcontrol::TLMapWidget::GetFromLocalToLatLng</a></div><div class="ttdeci">internals::PointLatLng GetFromLocalToLatLng(QPointF p)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8h_source.html#l00254">tlmapwidget.h:254</a></div></div>
<div class="ttc" id="group___o_p_map_plugin_html_gac0a4e19ec058721095f125dfba28ea79"><div class="ttname"><a href="group___o_p_map_plugin.html#gac0a4e19ec058721095f125dfba28ea79">OPMapGadgetWidget::mouseMoveEvent</a></div><div class="ttdeci">void mouseMoveEvent(QMouseEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="opmapgadgetwidget_8cpp_source.html#l00337">opmapgadgetwidget.cpp:337</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga444c6cedabdc1814a2408c5f53947147"><div class="ttname"><a href="group___t_l_map_widget.html#ga444c6cedabdc1814a2408c5f53947147">mapcontrol::TLMapWidget::SetShowCompassRose</a></div><div class="ttdeci">void SetShowCompassRose(bool const &amp;value)</div><div class="ttdoc">TLMapWidget::SetShowCompassRose Shows the compass rose on the map. </div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00551">tlmapwidget.cpp:551</a></div></div>
<div class="ttc" id="group___t_l_map_widget_html_ga20c9dd8b85bc54673456b6271b6de9af"><div class="ttname"><a href="group___t_l_map_widget.html#ga20c9dd8b85bc54673456b6271b6de9af">mapcontrol::TLMapWidget::WPSetVisibleAll</a></div><div class="ttdeci">void WPSetVisibleAll(bool value)</div><div class="ttdef"><b>Definition:</b> <a href="tlmapwidget_8cpp_source.html#l00435">tlmapwidget.cpp:435</a></div></div>
<div class="ttc" id="_o_p_plots_8m_html_a2fb1c5cf58867b5bbc9a1b145a86f3a0"><div class="ttname"><a href="_o_p_plots_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a></div><div class="ttdeci">y</div><div class="ttdef"><b>Definition:</b> <a href="_o_p_plots_8m_source.html#l00101">OPPlots.m:101</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bb77b04ae0ff98f0a5dcf95af99976f7.html">ground</a></li><li class="navelem"><a class="el" href="dir_4914b6d078edd15de416a0588b1408c9.html">gcs</a></li><li class="navelem"><a class="el" href="dir_979cc242bcdb61c8fecc823ca107a4ab.html">src</a></li><li class="navelem"><a class="el" href="dir_8b22256ffc0f161b5ef261c0476f6e8f.html">plugins</a></li><li class="navelem"><a class="el" href="dir_1b017c4cf81747cc8237dcec81709aef.html">opmap</a></li><li class="navelem"><a class="el" href="opmapgadgetwidget_8cpp.html">opmapgadgetwidget.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
